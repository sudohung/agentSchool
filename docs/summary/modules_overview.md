# Agent School 项目模块详细分析

## 1. Agents 模块

### 1.1 核心代理类型
- **doc-agent**: 文档专家，专注于技术文档撰写和Mermaid图表绘制
- **java-analyst-agent**: Java系统分析专家，具有20年经验的架构师
- **code-reviewer**: 代码审查员，进行代码质量评估
- **architect-agent**: 架构师，负责架构设计和模式识别
- **debug-agent**: 调试专家，问题定位和错误分析
- **refactor-agent**: 重构专家，代码优化和技术债务处理
- **skill-creator-agent**: 技能创建者，定义新技能
- **test-agent**: 测试专家，生成测试用例

### 1.2 验证器子系统
采用多代理协作模式进行文档验证：
- **协调器代理**: 任务分发和结果聚合
- **9个专家代理**: 并行执行不同维度验证（实体、ER图、API、方法、状态、流程、数据流、引用、结构）
- **工作流程**: 文档分析 → 任务生成 → 并行验证 → 结果聚合
- **关键特性**: 专家优先级冲突解决、置信度评分、最大容错性

## 2. MCP 模块

### 2.1 MySQL MCP Server
8个核心工具提供数据库分析能力：
- **数据库发现**: 列出数据库、数据库概览
- **表管理**: 列出表、表结构分析  
- **数据探索**: 抽样查看数据、统计分析
- **关系分析**: 外键关系分析
- **自定义查询**: 执行只读SQL查询

### 2.2 安全特性
- 所有操作都是只读的
- 禁止DML和DDL操作
- 支持环境变量配置

## 3. Skills 模块

### 3.1 主要技能类型
- **business-doc-checker**: 业务文档完整性检查（广度优先）
- **java-system-analysis**: Java系统分析方法论
- **test-driven-development**: 测试驱动开发指南
- **slow-request-analysis-optimis**: 慢请求分析优化
- **agent-collaboration-guide**: 代理协作指南

### 3.2 business-doc-checker 详解
**检查维度**:
1. 模块划分 - 识别核心模块/包结构
2. 业务流程 - 结合git记录识别关键流程  
3. API接口 - 扫描Controller层接口
4. 数据表 - 识别项目中的数据表/实体

**工作流程**: 获取文档 → 扫描项目 → 对比内容 → 生成报告

## 4. Vector DB 模块

### 4.1 核心功能
- **文本嵌入**: sentence-transformers将文本转为向量
- **向量存储**: FAISS高效向量索引
- **相似度搜索**: 语义相似度匹配
- **实际应用**: 简易问答系统实现

### 4.2 性能特点
- 支持不同规模测试（100-1000条文本）
- 提供编码、索引、查询时间统计
- 内存使用监控和优化

## 5. Reranking 模块

### 5.1 CPU-only 优化方案
**自适应配置**:
- **入门级** (<4GB内存): Mini模型 + 规则重排
- **标准级** (4-8GB内存): BGE小模型 + 混合重排
- **高性能** (>8GB内存): 多语言模型 + ML重排

**重排策略**:
1. 规则重排器 - 基于BM25、流行度、时效性
2. 轻量级ML重排器 - 逻辑回归简单模型  
3. 混合重排 - 规则过滤 + ML精排

### 5.2 工业级重排方案
针对云端/服务器环境的大厂级优化方案

## 6. My-Video 模块

### 6.1 演示内容
- BigBangUniverse.tsx: 宇宙大爆炸概念
- Fireflies.tsx: 萤火虫效果
- FractalTree.tsx: 分形树
- RerankingFlow.tsx: 重排流程可视化
- ThreeSceneFallingCat.tsx: 3D场景

### 6.2 技术栈
React + TypeScript + Three.js + Remotion

## 7. 项目特色总结

### 7.1 创新点
- **多代理协作验证系统**: 首创性地将多代理协作应用于文档验证
- **自适应优化策略**: 根据系统资源自动选择最优配置
- **全面文档体系**: 标准化模板和可视化规范
- **教学实践结合**: 交互式教程和实战演示

### 7.2 适用场景
- **技术文档维护**: 确保文档与代码同步
- **遗留系统分析**: 快速理解复杂Java项目  
- **数据库探索**: 无需SQL知识了解业务数据
- **语义搜索**: 向量数据库在问答系统中的应用
- **个性化推荐**: 重排优化在搜索排序中的应用

### 7.3 目标用户
- **新手开发者**: 完整学习路径和文档
- **个人开发者**: CPU-only优化方案
- **企业开发者**: 工业级重排和MCP服务器
- **技术文档工程师**: 专业文档代理和验证工具
- **系统架构师**: Java系统分析和架构验证工具
