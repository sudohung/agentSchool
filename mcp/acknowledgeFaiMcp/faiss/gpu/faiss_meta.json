{
  "1": {
    "id": 1,
    "metadata": {
      "source": "final_issues_report.md",
      "section": "é—®é¢˜ç»Ÿè®¡æ¦‚è§ˆ"
    },
    "document": "# CRMæ…¢æ¥å£æ€§èƒ½é—®é¢˜å®Œæ•´åˆ†ææŠ¥å‘Š\n\n> **é¡¹ç›®åç§°**ï¼šxp-dragon-crm\n> **åˆ†ææ—¥æœŸ**ï¼š2026-02-06\n> **æ•°æ®æ¥æº**ï¼šcost>700msçš„è¯·æ±‚ (20260201-20260205)\n> **åˆ†æäººå‘˜**ï¼šIssueIdentifier Agent\n\n## 1. é—®é¢˜ç»Ÿè®¡æ¦‚è§ˆ\n\n### 1.1 æ•´ä½“ç»Ÿè®¡\n\n| æŒ‡æ ‡ | æ•°å€¼ |\n|------|------|\n| **åˆ†æAPIæ€»æ•°** | 108ä¸ª |\n| **æ…¢è¯·æ±‚æ€»é‡** | 145,000+ |\n| **è¯†åˆ«é—®é¢˜æ€»æ•°** | 52ä¸ª |\n| **TOP1 APIè¯·æ±‚é‡** | 113,183æ¬¡ (follow/newAdd) |\n| **æœ€å¤§å“åº”æ—¶é—´** | 5,601ms (getShopEmpByCustomParam) |\n\n### 1.2 æŒ‰ä¼˜å…ˆçº§åˆ†å¸ƒ\n\n| ä¼˜å…ˆçº§ | æ•°é‡ | å æ¯” | è¯´æ˜ |\n|:------:|:----:|:----:|------|\n| ğŸ”´ **P0** | 4 | 7.7% | ç«‹å³å¤„ç† - é«˜é¢‘æ¥å£+ä¸¥é‡æ€§èƒ½é—®é¢˜ |\n| ğŸŸ¡ **P1** | 16 | 30.8% | ç´§æ€¥å¤„ç† - é«˜é¢‘æ¥å£+æ˜æ˜¾æ€§èƒ½é—®é¢˜ |\n| ğŸŸ¢ **P2** | 32 | 61.5% | è®¡åˆ’å¤„ç† - ä¸­ä½é¢‘æ¥å£+ä¸€èˆ¬æ€§èƒ½é—®é¢˜ |\n\n### 1.3 æŒ‰é—®é¢˜ç±»å‹åˆ†å¸ƒ\n\n| é—®é¢˜ç±»å‹ | å‡ºç°æ¬¡æ•° | å…¸å‹æ¥å£ |\n|----------|:-------:|---------|\n| åŒæ­¥è¿œç¨‹è°ƒç”¨ | 18 | follow/newAdd, mainDetail, getOcrInfo |\n| ç¼ºå°‘ç¼“å­˜ | 12 | dictionary/list, getFeiKunLabel, queryCustomerLabels |\n| N+1æŸ¥è¯¢ | 3 | getShopEmpByCustomParam, getChangeWaitedCluePageV2 |\n| äº‹åŠ¡èŒƒå›´è¿‡å¤§ | 5 | follow/newAdd, inputAndRelate, finishNewTestDrive |\n| ä¸²è¡Œå¤šæ­¥éª¤ | 6 | finishNewTestDrive, createNewTestDriveSchedule |\n| åŒæ­¥ESæ“ä½œ | 5 | follow/newAdd, inputAndRelate, edit |\n| åŒæ­¥æ¶ˆæ¯å‘é€ | 4 | finishNewTestDrive, issueClueConfirm |\n| åˆ†å¸ƒå¼é”ç«äº‰ | 2 | cityPool/activate |"
  },
  "2": {
    "id": 2,
    "metadata": {
      "source": "final_issues_report.md",
      "section": "P0-001æ–°å¢è·Ÿè¿›æ¥å£"
    },
    "document": "# P0-001: /logan/crm/follow/newAdd (æ–°å¢è·Ÿè¿›)\n\n- **è¯·æ±‚ç»Ÿè®¡**ï¼š113,183æ¬¡/5å¤©ï¼Œå¹³å‡22,636æ¬¡/å¤©ï¼Œ**å å…¨éƒ¨æ…¢è¯·æ±‚çš„78%**\n- **å“åº”æ—¶é—´**ï¼šæœ€å°700msï¼Œæœ€å¤§4747ms\n- **Controller**ï¼š`FollowController.java:232`\n- **Service**ï¼š`FollowAndApplicationAddService.addFollowAndDefeatApplication()`\n\n## é—®é¢˜è¯¦æƒ…\n\n| é—®é¢˜åºå· | é—®é¢˜ç±»å‹ | é—®é¢˜æè¿° | ä»£ç ä½ç½® |\n|:--------:|----------|----------|----------|\n| 1 | ğŸ”´ åŒæ­¥ESåˆ·æ–° | `customerESService.commitByLeadId()`åœ¨æ¥å£å†…åŒæ­¥æ‰§è¡ŒESåˆ·æ–° | FollowAndApplicationAddService.java |\n| 2 | ğŸ”´ åŒæ­¥è¿œç¨‹è°ƒç”¨ | è°ƒç”¨`baseCpService`è·å–å‘˜å·¥ä¿¡æ¯ | FollowAndApplicationAddService.java |\n| 3 | ğŸ”´ åŒæ­¥è¿œç¨‹è°ƒç”¨ | è°ƒç”¨`soCuteService.queryShopCallAbnormalCount()`æŸ¥è¯¢å¼‚å¸¸é€šè¯ | FollowAndApplicationAddService.java |\n| 4 | ğŸ”´ åŒæ­¥è¿œç¨‹è°ƒç”¨ | è°ƒç”¨`iphoenixService.queryExistCard()`æŸ¥è¯¢å¡ç‰‡ | FollowAndApplicationAddService.java |\n| 5 | ğŸŸ¡ é‡å¤æ•°æ®åº“æŸ¥è¯¢ | `clueOppService.getLeadVoByLeadId()`å¤šæ¬¡è°ƒç”¨ | FollowAndApplicationAddService.java |\n| 6 | ğŸŸ¡ äº‹åŠ¡èŒƒå›´è¿‡å¤§ | æ•´ä¸ªæ·»åŠ æµç¨‹åœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­ï¼ŒåŒ…å«å¤šæ¬¡RPCè°ƒç”¨ | FollowAndApplicationAddService.java |\n\n## ä¼˜åŒ–æ–¹æ¡ˆ\n\n| ä¼˜åŒ–é¡¹ | æ–¹æ¡ˆ | æ”¶ç›Šé¢„ä¼° |\n|--------|------|----------|\n| ESåˆ·æ–°å¼‚æ­¥åŒ– | æ”¹ä¸ºMQå¼‚æ­¥æ¶ˆæ¯ï¼Œäº‹åŠ¡æäº¤åå‘é€ | -800ms |\n| åˆå¹¶LeadæŸ¥è¯¢ | é¦–æ¬¡æŸ¥è¯¢ç»“æœç¼“å­˜åœ¨æ–¹æ³•ä¸Šä¸‹æ–‡ä¸­å¤ç”¨ | -200ms |\n| éæ ¸å¿ƒRPCå¼‚æ­¥åŒ– | å¼‚å¸¸é€šè¯æŸ¥è¯¢ã€å¡ç‰‡æŸ¥è¯¢æ”¹ä¸ºå¼‚æ­¥æˆ–å»¶è¿ŸåŠ è½½ | -500ms |\n| ç¼©å°äº‹åŠ¡èŒƒå›´ | ä»…åŒ…å«å¿…è¦çš„æ•°æ®åº“æ“ä½œ | æé«˜å¹¶å‘ |\n\n**é¢„è®¡ä¼˜åŒ–æ•ˆæœ**ï¼šP99å»¶è¿Ÿä»4747msé™è‡³1500msä»¥å†…"
  },
  "3": {
    "id": 3,
    "metadata": {
      "source": "final_issues_report.md",
      "section": "P0-002å®¢æˆ·ä¸»è¯¦æƒ…æ¥å£"
    },
    "document": "# P0-002: /logan/crm/customer/V2/mainDetail (å®¢æˆ·ä¸»è¯¦æƒ…)\n\n- **è¯·æ±‚ç»Ÿè®¡**ï¼š4,209æ¬¡/5å¤©ï¼Œå¹³å‡841æ¬¡/å¤©\n- **å“åº”æ—¶é—´**ï¼šæœ€å°700msï¼Œæœ€å¤§3054ms\n- **Controller**ï¼š`CustomerArchivesController.java:38`\n- **Service**ï¼š`CustomerDetailService.getMainDetail()`\n\n## é—®é¢˜è¯¦æƒ…\n\n| é—®é¢˜åºå· | é—®é¢˜ç±»å‹ | é—®é¢˜æè¿° | ä»£ç ä½ç½® |\n|:--------:|----------|----------|----------|\n| 1 | ğŸ”´ åŒæ­¥è¿œç¨‹è°ƒç”¨ | è°ƒç”¨`baseCpService`è·å–åº—é“ºä¿¡æ¯ | CustomerDetailService.java |\n| 2 | ğŸ”´ åŒæ­¥è¿œç¨‹è°ƒç”¨ | è°ƒç”¨`baseShopService`è·å–é—¨åº—è¯¦æƒ… | CustomerDetailService.java |\n| 3 | ğŸ”´ åŒæ­¥è¿œç¨‹è°ƒç”¨ | `odpsFeikunCustomerLabelService.queryByMobile()`æŸ¥è¯¢é£é”Ÿæ ‡ç­¾ | CustomerDetailService.java |\n| 4 | ğŸŸ¡ æ•°æ®è¿‡æ»¤åç½® | è°ƒç”¨`getCustomerDetail()`åå†è¿›è¡Œæ±½è´¸éš”ç¦»è¿‡æ»¤`filterQiMao()` | CustomerDetailService.java |\n| 5 | ğŸŸ¡ ç¼ºå°‘ç¼“å­˜ | å®¢æˆ·åŸºç¡€ä¿¡æ¯æŸ¥è¯¢æœªä½¿ç”¨ç¼“å­˜ | CustomerDetailService.java |\n\n## ä¼˜åŒ–æ–¹æ¡ˆ\n\n| ä¼˜åŒ–é¡¹ | æ–¹æ¡ˆ | æ”¶ç›Šé¢„ä¼° |\n|--------|------|----------|\n| è¿œç¨‹è°ƒç”¨å¹¶è¡ŒåŒ– | ä½¿ç”¨CompletableFutureå¹¶è¡Œæ‰§è¡Œå¤šä¸ªRPC | -1000ms |\n| å¢åŠ æœ¬åœ°ç¼“å­˜ | Caffeineç¼“å­˜çƒ­ç‚¹å®¢æˆ·æ•°æ®ï¼ŒTTL 5åˆ†é’Ÿ | -300ms |\n| è¿‡æ»¤å‰ç½® | æ±½è´¸éš”ç¦»æ£€æŸ¥å‰ç½®ï¼Œé¿å…æ— æ•ˆè¿œç¨‹è°ƒç”¨ | -200ms |\n| é£é”Ÿæ ‡ç­¾å¼‚æ­¥ | æ ‡ç­¾æŸ¥è¯¢å¼‚æ­¥åŠ è½½ï¼Œä¸é˜»å¡ä¸»æµç¨‹ | -400ms |\n\n**é¢„è®¡ä¼˜åŒ–æ•ˆæœ**ï¼šP99å»¶è¿Ÿä»3054msé™è‡³1000msä»¥å†…"
  },
  "4": {
    "id": 4,
    "metadata": {
      "source": "final_issues_report.md",
      "section": "P0-003å’ŒP0-004çº¿ç´¢ç¡®è®¤å’Œå‘˜å·¥æŸ¥è¯¢"
    },
    "document": "# P0-003: /logan/crm/follow/clue/issue/confirm (çº¿ç´¢é—®é¢˜ç¡®è®¤)\n\n- **è¯·æ±‚ç»Ÿè®¡**ï¼š3,883æ¬¡/5å¤©ï¼Œå¹³å‡776æ¬¡/å¤©\n- **å“åº”æ—¶é—´**ï¼šæœ€å°785msï¼Œæœ€å¤§2310ms\n- **Controller**ï¼š`FollowController.java:99`\n- **Service**ï¼š`FollowService.issueClueConfirm()`\n\n## é—®é¢˜è¯¦æƒ…\n\n| é—®é¢˜åºå· | é—®é¢˜ç±»å‹ | é—®é¢˜æè¿° | ä»£ç ä½ç½® |\n|:--------:|----------|----------|----------|\n| 1 | ğŸ”´ åŒæ­¥æ¶ˆæ¯å‘é€ | Kafkaæ¶ˆæ¯åœ¨äº‹åŠ¡å†…åŒæ­¥å‘é€ | FollowService.java |\n| 2 | ğŸ”´ åŒæ­¥è¿œç¨‹è°ƒç”¨ | å¤šæ¬¡è°ƒç”¨`baseCpService` | FollowService.java |\n| 3 | ğŸŸ¡ äº‹åŠ¡åµŒå¥— | çº¿ç´¢ç¡®è®¤æµç¨‹æ¶‰åŠå¤šä¸ªå­äº‹åŠ¡ | FollowService.java |\n\n## ä¼˜åŒ–æ–¹æ¡ˆ\n\n| ä¼˜åŒ–é¡¹ | æ–¹æ¡ˆ | æ”¶ç›Šé¢„ä¼° |\n|--------|------|----------|\n| æ¶ˆæ¯å¼‚æ­¥å‘é€ | ä½¿ç”¨`@TransactionalEventListener`äº‹åŠ¡æäº¤åå‘é€ | -500ms |\n| åˆå¹¶è¿œç¨‹è°ƒç”¨ | æ‰¹é‡æ¥å£æ›¿ä»£å¤šæ¬¡å•æ¡è°ƒç”¨ | -300ms |\n| ç®€åŒ–äº‹åŠ¡ | åˆå¹¶å­äº‹åŠ¡ï¼Œå‡å°‘äº‹åŠ¡åµŒå¥— | -200ms |\n\n**é¢„è®¡ä¼˜åŒ–æ•ˆæœ**ï¼šP99å»¶è¿Ÿä»2310msé™è‡³800msä»¥å†…\n\n---\n\n# P0-004: /logan/crm/common/emp/getShopEmpByCustomParam (è·å–é—¨åº—å‘˜å·¥)\n\n- **è¯·æ±‚ç»Ÿè®¡**ï¼š970æ¬¡/5å¤©ï¼Œå¹³å‡194æ¬¡/å¤©\n- **å“åº”æ—¶é—´**ï¼šæœ€å°703msï¼Œ**æœ€å¤§5601msï¼ˆå…¨åœºæœ€é«˜ï¼‰**\n- **Controller**ï¼š`CommonCrmController.java:207`\n- **Service**ï¼š`CommonEmployeeService.getEmpByCustomParam()`\n\n## é—®é¢˜è¯¦æƒ…\n\n| é—®é¢˜åºå· | é—®é¢˜ç±»å‹ | é—®é¢˜æè¿° | ä»£ç ä½ç½® |\n|:--------:|----------|----------|----------|\n| 1 | ğŸ”´ N+1æŸ¥è¯¢ | å¾ªç¯å†…è°ƒç”¨`baseEmployeeService`è·å–å‘˜å·¥è¯¦æƒ… | CommonEmployeeService.java |\n| 2 | ğŸ”´ ç¼ºå°‘ç¼“å­˜ | å‘˜å·¥ä¿¡æ¯æœªç¼“å­˜ï¼Œæ¯æ¬¡è¯·æ±‚éƒ½æŸ¥è¯¢ | CommonEmployeeService.java |\n| 3 | ğŸŸ¡ å¤§æ•°æ®é‡è¿”å› | å¯èƒ½è¿”å›æ•´ä¸ªé—¨åº—æ‰€æœ‰å‘˜å·¥åˆ—è¡¨ | CommonEmployeeService.java |\n\n## ä¼˜åŒ–æ–¹æ¡ˆ\n\n| ä¼˜åŒ–é¡¹ | æ–¹æ¡ˆ | æ”¶ç›Šé¢„ä¼° |\n|--------|------|----------|\n| æ‰¹é‡æŸ¥è¯¢æ›¿ä»£å¾ªç¯ | ä½¿ç”¨`batchGetEmpByIds()`ä¸€æ¬¡è·å–æ‰€æœ‰å‘˜å·¥ | -4000ms |\n| å¢åŠ ç¼“å­˜ | Redisç¼“å­˜é—¨åº—å‘˜å·¥åˆ—è¡¨ï¼ŒTTL 10åˆ†é’Ÿ | -500ms |\n| å¢åŠ åˆ†é¡µ | å¤§é—¨åº—å¢åŠ åˆ†é¡µå‚æ•°ï¼Œé¿å…è¿”å›è¿‡å¤šæ•°æ® | -300ms |\n\n**é¢„è®¡ä¼˜åŒ–æ•ˆæœ**ï¼šP99å»¶è¿Ÿä»5601msé™è‡³500msä»¥å†…"
  },
  "5": {
    "id": 5,
    "metadata": {
      "source": "final_issues_report.md",
      "section": "P1ç´§æ€¥å¤„ç†é—®é¢˜æ±‡æ€»"
    },
    "document": "# P1-001è‡³P1-016 ç´§æ€¥å¤„ç†é—®é¢˜æ±‡æ€»\n\n| ç¼–å· | æ¥å£è·¯å¾„ | è¯·æ±‚æ¬¡æ•° | æœ€å¤§è€—æ—¶ | æ ¸å¿ƒé—®é¢˜ | é¢„è®¡å·¥ä½œé‡ |\n|------|----------|:--------:|:--------:|----------|:----------:|\n| P1-001 | /logan/crm/sffile/getOcrInfo | 3,948 | 3174ms | åŒæ­¥é˜¿é‡Œäº‘OCRè°ƒç”¨ | 2äººå¤© |\n| P1-002 | /logan/crm/customer/inputAndRelate | 3,198 | 2057ms | å¤§äº‹åŠ¡+åŒæ­¥ES | 2äººå¤© |\n| P1-003 | /logan/crm/testDrive/finishNewTestDrive | 3,023 | 2364ms | 10+ä¸²è¡Œæ­¥éª¤ | 2äººå¤© |\n| P1-004 | /logan/crm/testDrive/createNewTestDriveSchedule | 2,578 | 2127ms | å¤šæ¬¡DBæŸ¥è¯¢+ä¸²è¡Œæ ¡éªŒ | 1.5äººå¤© |\n| P1-005 | /logan/crm/testDrive/newQrcodeRefresh | 2,089 | 4160ms | åŒæ­¥äºŒç»´ç ç”Ÿæˆ+ç¼“å­˜æ—¶é—´çŸ­ | 1äººå¤© |\n| P1-006 | /logan/crm/customer/V2/queryCustomerLabels | 1,477 | 2695ms | å¤šæ¬¡DBæŸ¥è¯¢+ç¼ºå°‘ç¼“å­˜ | 1äººå¤© |\n| P1-007 | /logan/crm/customer/detailNew | 1,445 | 2454ms | å¤šæ¬¡è¿œç¨‹è°ƒç”¨ï¼ˆåŒmainDetailï¼‰ | 1äººå¤© |\n| P1-008 | /logan/crm/customer/cityPool/activate | 1,069 | 2165ms | åˆ†å¸ƒå¼é”+åŒæ­¥RPC | 1.5äººå¤© |\n| P1-009 | /logan/crm/passengerFlow/flow/getReverseRelateGray | 958 | 2365ms | ç°åº¦é…ç½®æ— ç¼“å­˜ | 0.5äººå¤© |\n| P1-010 | /logan/crm/customer/enterprise/wechat/getWeChatCustomerButtonV2 | 610 | 1990ms | å¥½å‹å…³ç³»æ— ç¼“å­˜ | 1äººå¤© |\n| P1-011 | /logan/crm/lead/distribute/shop/getChangeWaitedCluePageV2 | 415 | 2530ms | N+1æŸ¥è¯¢å¥½å‹å…³ç³» | 1äººå¤© |\n| P1-012 | /logan/crm/lead/distribute/insideSale/getPreDistributePageV2 | 183 | 3466ms | å¤æ‚æŸ¥è¯¢+è¿œç¨‹è°ƒç”¨ | 1.5äººå¤© |\n| P1-013 | /logan/crm/lead/distribute/shop-owner/shop-distribute/sale | 147 | 3051ms | åŒæ­¥åˆ†é…é€»è¾‘ | 1äººå¤© |\n| P1-014 | /logan/crm/lead/distribute/getDistributionShopEmployee | 109 | 4898ms | æ‰¹é‡å‘˜å·¥æŸ¥è¯¢æ…¢ | 1äººå¤© |\n| P1-015 | /logan/crm/customer/detailForWechatNew | 52 | 3284ms | å¤šæ¬¡è¿œç¨‹è°ƒç”¨ | 1äººå¤© |\n| P1-016 | /logan/crm/customer/enterprise/wechat/chat/list | 9 | 3519ms | èŠå¤©è®°å½•æŸ¥è¯¢æ…¢ | 1äººå¤© |\n\n## é‡ç‚¹é—®é¢˜è¯¦ç»†è¯´æ˜\n\n### P1-001: OCRè¯†åˆ«æ¥å£\n\n| é—®é¢˜ç±»å‹ | é—®é¢˜æè¿° | ä¼˜åŒ–å»ºè®® |\n|----------|----------|----------|\n| åŒæ­¥å¤–éƒ¨è°ƒç”¨ | åŒæ­¥è°ƒç”¨`aliYunOCRService.getOCRDriverLicense()` | OCRç»“æœæŒ‰æ–‡ä»¶MD5ç¼“å­˜ |\n| åŒæ­¥å¤–éƒ¨è°ƒç”¨ | åŒæ­¥è°ƒç”¨`ocrFace()`äººè„¸è¯†åˆ« | è€ƒè™‘å¼‚æ­¥åŒ–ï¼Œå‰ç«¯è½®è¯¢ç»“æœ |\n| åŒæ­¥OSSæ“ä½œ | `stsOssService.getExpiredUrl()` | URLç­¾åæœ¬åœ°ç¼“å­˜ |\n\n### P1-003: å®Œæˆè¯•é©¾æ¥å£\n\n| é—®é¢˜ç±»å‹ | é—®é¢˜æè¿° | ä¼˜åŒ–å»ºè®® |\n|----------|----------|----------|\n| ä¸²è¡Œå¤šæ­¥éª¤ | 10+ä¸²è¡Œæ­¥éª¤ï¼šæ›´æ–°çŠ¶æ€ã€å‘é€Kafkaã€ç”ŸæˆæŠ¥å‘Šã€å…³è”å®¢æµç­‰ | éæ ¸å¿ƒæ­¥éª¤å¼‚æ­¥åŒ– |\n| åŒæ­¥æ¶ˆæ¯å‘é€ | å¤šæ¡Kafkaæ¶ˆæ¯åŒæ­¥å‘é€ | äº‹ä»¶é©±åŠ¨æ¶æ„ |\n| åŒæ­¥æŠ¥å‘Šç”Ÿæˆ | è¯•é©¾æŠ¥å‘ŠåŒæ­¥ç”Ÿæˆ | æŠ¥å‘Šå»¶è¿Ÿç”Ÿæˆ |\n\n### P1-011: N+1æŸ¥è¯¢é—®é¢˜\n\n```java\n// é—®é¢˜ä»£ç ç¤ºæ„\nprivate void fillWechatCustomerRelationStatus(List<LeadVO> leads) {\n    for (LeadVO lead : leads) {\n        // âŒ N+1ï¼šæ¯æ¡è®°å½•ä¸€æ¬¡RPC\n        RelationVO relation = baseCpService.getCustomerRelation(lead.getCustomerId());\n        lead.setRelationStatus(relation.getStatus());\n    }\n}\n\n// ä¼˜åŒ–æ–¹æ¡ˆ\nprivate void fillWechatCustomerRelationStatus(List<LeadVO> leads) {\n    List<Long> customerIds = leads.stream()\n        .map(LeadVO::getCustomerId)\n        .collect(Collectors.toList());\n    // âœ… æ‰¹é‡æŸ¥è¯¢ï¼šä¸€æ¬¡RPCè·å–æ‰€æœ‰å…³ç³»\n    Map<Long, RelationVO> relationMap = baseCpService.batchGetCustomerRelation(customerIds);\n}\n```"
  },
  "6": {
    "id": 6,
    "metadata": {
      "source": "final_issues_report.md",
      "section": "P2è®¡åˆ’å¤„ç†é—®é¢˜æ±‡æ€»"
    },
    "document": "# P2-001è‡³P2-032 è®¡åˆ’å¤„ç†é—®é¢˜æ±‡æ€»\n\n| ç¼–å· | æ¥å£è·¯å¾„ | è¯·æ±‚æ¬¡æ•° | æœ€å¤§è€—æ—¶ | æ ¸å¿ƒé—®é¢˜ | ä¼˜åŒ–å»ºè®® |\n|------|----------|:--------:|:--------:|----------|----------|\n| P2-001 | /dictionary/list | 722 | 2074ms | å­—å…¸æ•°æ®æ¯æ¬¡ä»DBæŸ¥è¯¢ | å­—å…¸æ•°æ®å¼ºåˆ¶æœ¬åœ°ç¼“å­˜ |\n| P2-002 | /testDrive/createNewTestDriveRecord | 691 | 1988ms | å¤šä¸ªæ ¡éªŒæ­¥éª¤ä¸²è¡Œæ‰§è¡Œ | å¹¶è¡ŒåŒ–ç‹¬ç«‹æ­¥éª¤ |\n| P2-003 | /customer/cityPool/tip | 645 | 1581ms | è¿œç¨‹è°ƒç”¨æ— ç¼“å­˜ | å¢åŠ ç¼“å­˜ |\n| P2-004 | /customer/getCustomerList | 585 | 1811ms | å¤æ‚æŸ¥è¯¢å¤šè¡¨å…³è” | ä¼˜åŒ–SQLå¢åŠ ç´¢å¼• |\n| P2-005 | /customer/edit | 575 | 1641ms | ç¼–è¾‘ååŒæ­¥æ›´æ–°ES | ESæ›´æ–°å¼‚æ­¥åŒ– |\n| P2-006 | /customer/getCustomerIntelligentPredictionCard | 570 | 1900ms | ä¸²è¡ŒDBæŸ¥è¯¢ç¼ºå°‘ç¼“å­˜ | åˆå¹¶æŸ¥è¯¢å¢åŠ ç¼“å­˜ |\n| P2-007 | /customer/getFeiKunLabel | 518 | 1936ms | åŒæ­¥è°ƒç”¨é£é”Ÿå¤–éƒ¨æœåŠ¡ | å¢åŠ é£é”Ÿæ ‡ç­¾ç¼“å­˜ |\n| P2-008 | /follow/get-activate-button | 479 | 1929ms | è¿œç¨‹è°ƒç”¨æ— ç¼“å­˜ | å¢åŠ ç¼“å­˜ |\n| P2-009 | /follow/status | 475 | 1847ms | å¤šæ¬¡æ•°æ®åº“æŸ¥è¯¢ | åˆå¹¶æŸ¥è¯¢ |\n| P2-010 | /cultivate/card/getUnReadStats | 448 | 2239ms | ä¸¤æ¬¡ç‹¬ç«‹æŸ¥è¯¢ | åˆå¹¶ä¸ºå•æ¬¡æŸ¥è¯¢ |\n| P2-011 | /customer/predict/v2/getPredictCustomerInfo | 446 | 1706ms | åŒæ­¥æ•°æ®åº“æŸ¥è¯¢æ— ç¼“å­˜ | å¢åŠ ç¼“å­˜ |\n| P2-012 | /customer/simpleDetail | 442 | 2096ms | è¿œç¨‹è°ƒç”¨ | ç®€åŒ–è¿”å›å­—æ®µå‡å°‘æŸ¥è¯¢ |\n| P2-013 | /customer/getIsCleanList | 363 | 1887ms | å¾ªç¯æ¡ä»¶æ£€æŸ¥ | ä¼˜åŒ–æ¡ä»¶æ£€æŸ¥é€»è¾‘ |\n| P2-014 | /testDrive/getTestDriveSummaryList | 361 | 2208ms | åˆ—è¡¨æŸ¥è¯¢å…³è”å¤š | å»¶è¿ŸåŠ è½½éå¿…è¦å­—æ®µ |\n| P2-015 | /follow/defeatApply/checkExist | 301 | 2027ms | æŸ¥è¯¢æ— ç¼“å­˜ | å¢åŠ ç¼“å­˜ |\n| P2-016 | /customer/countHighIntention | 297 | 2650ms | ç»Ÿè®¡æŸ¥è¯¢æ…¢ | é¢„è®¡ç®—æˆ–ç¼“å­˜ |\n| P2-017 | /customer/quickEdit | 288 | 1792ms | åŒæ­¥ESæ›´æ–° | ESæ›´æ–°å¼‚æ­¥åŒ– |\n| P2-018 | /ali/common/speech/getToken | 279 | 1756ms | é˜¿é‡Œäº‘Tokenè·å– | Tokenæœ¬åœ°ç¼“å­˜ |\n| P2-019 | /common/getCrmCommonConfig | 270 | 1742ms | é…ç½®æ¯æ¬¡æŸ¥è¯¢ | é…ç½®æœ¬åœ°ç¼“å­˜ |\n| P2-020 | /testDrive/calendar | 231 | 1507ms | æ—¥å†æŸ¥è¯¢ | å¢åŠ ç¼“å­˜ |\n| P2-021 | /customer/queryCustomerRiskInfo | 189 | 1919ms | é£é™©ä¿¡æ¯æŸ¥è¯¢ | å¢åŠ ç¼“å­˜ |\n| P2-022 | /passengerFlow/batchFlow/queryReceptionInfo | 171 | 1669ms | æ¥å¾…ä¿¡æ¯æŸ¥è¯¢ | ä¼˜åŒ–æŸ¥è¯¢ |\n| P2-023 | /customer/smartSearch | 167 | 1525ms | æ™ºèƒ½æœç´¢ | ESæŸ¥è¯¢ä¼˜åŒ– |\n| P2-024 | /customer/enterprise/wechat/qrCode/add | 162 | 1447ms | äºŒç»´ç ç”Ÿæˆ | å¼‚æ­¥ç”Ÿæˆ |\n| P2-025 | /customer/input | 161 | 1275ms | å®¢æˆ·å½•å…¥ | ç®€åŒ–æµç¨‹ |\n| P2-026 | /testDrive/getInviteTd | 156 | 1416ms | é‚€è¯·è¯•é©¾æŸ¥è¯¢ | å¢åŠ ç¼“å­˜ |\n| P2-027 | /common/wechatConfig | 123 | 1570ms | å¾®ä¿¡é…ç½®æŸ¥è¯¢ | é…ç½®ç¼“å­˜ |\n| P2-028 | /customer/getFollowRecord | 1,274 | 1753ms | è·Ÿè¿›è®°å½•åˆ†é¡µæŸ¥è¯¢å…³è”æ•°æ®å¤š | ä¼˜åŒ–SQLç´¢å¼• |\n| P2-029 | /customer/predict/v2/getPredictCustomerDetail | 1,026 | 1898ms | åŒæ­¥DBæŸ¥è¯¢æ— ç¼“å­˜ | å¢åŠ é¢„æµ‹æ•°æ®ç¼“å­˜ |\n| P2-030 | /common/getRouteGraySwitch | 97 | 1481ms | ç°åº¦å¼€å…³æŸ¥è¯¢ | æœ¬åœ°ç¼“å­˜ |\n| P2-031 | /testDrive/getVehicleList | 65 | 1656ms | è½¦è¾†åˆ—è¡¨æŸ¥è¯¢ | å¢åŠ ç¼“å­˜ |\n| P2-032 | /testDrive/upcomingList | 62 | 1772ms | å¾…åŠåˆ—è¡¨æŸ¥è¯¢ | ä¼˜åŒ–æŸ¥è¯¢ |"
  },
  "7": {
    "id": 7,
    "metadata": {
      "source": "final_issues_report.md",
      "section": "æŠ€æœ¯å€ºåŠ¡å’Œæ€§èƒ½é—®é¢˜è¯¦ç»†æ¸…å•"
    },
    "document": "# æŠ€æœ¯å€ºåŠ¡æ¸…å•\n\n| ç¼–å· | å€ºåŠ¡æè¿° | äº§ç”ŸåŸå›  | å½±å“è¯„ä¼° | å»ºè®®å¤„ç†æ—¶é—´ | å¤„ç†æˆæœ¬ |\n|------|----------|----------|----------|--------------|----------|\n| TD-001 | ESåŒæ­¥åˆ·æ–°æ¨¡å¼ | æ—©æœŸè®¾è®¡è¿½æ±‚æ•°æ®ä¸€è‡´æ€§ | ä¸¥é‡å½±å“æ¥å£æ€§èƒ½ | 1å‘¨å†… | 3äººå¤© |\n| TD-002 | è¿œç¨‹è°ƒç”¨æ— ç»Ÿä¸€å°è£… | ç¼ºå°‘ç»Ÿä¸€çš„RPCè°ƒç”¨å±‚ | æ— æ³•ç»Ÿä¸€è¶…æ—¶ã€é‡è¯•ã€ç†”æ–­ | 2å‘¨å†… | 5äººå¤© |\n| TD-003 | ç¼“å­˜ç­–ç•¥ä¸ç»Ÿä¸€ | å„æ¨¡å—è‡ªè¡Œå®ç°ç¼“å­˜ | ç¼“å­˜ç©¿é€ã€é›ªå´©é£é™© | 1æœˆå†… | 5äººå¤© |\n| TD-004 | äº‹åŠ¡è¾¹ç•Œè¿‡å¤§ | ä¸šåŠ¡å¤æ‚æ€§å¯¼è‡´äº‹åŠ¡è†¨èƒ€ | æ•°æ®åº“è¿æ¥å ç”¨è¿‡é•¿ | 2å‘¨å†… | 4äººå¤© |\n| TD-005 | N+1æŸ¥è¯¢æ™®éå­˜åœ¨ | ç¼ºå°‘æ‰¹é‡æŸ¥è¯¢æ„è¯† | é«˜å¹¶å‘æ—¶æ€§èƒ½æ€¥å‰§ä¸‹é™ | 1å‘¨å†… | 2äººå¤© |\n| TD-006 | æ¶ˆæ¯å‘é€ä¸ä¸šåŠ¡è€¦åˆ | æ¶ˆæ¯åœ¨äº‹åŠ¡å†…åŒæ­¥å‘é€ | äº‹åŠ¡å›æ»šæ—¶æ¶ˆæ¯å·²å‘é€ | 2å‘¨å†… | 3äººå¤© |\n\n## æ€§èƒ½é—®é¢˜è¯¦ç»†æ¸…å•\n\n### N+1 æŸ¥è¯¢é—®é¢˜\n\n| é—®é¢˜ä½ç½® | æŸ¥è¯¢æ¨¡å¼ | å½±å“æ¥å£ | å»ºè®®ä¼˜åŒ– |\n|----------|----------|----------|----------|\n| `CommonEmployeeService.getEmpByCustomParam()` | å¾ªç¯è°ƒç”¨`baseEmployeeService.getEmpById()` | `/common/emp/getShopEmpByCustomParam` | ä½¿ç”¨`batchGetEmpByIds()`æ‰¹é‡æŸ¥è¯¢ |\n| `LeadService.fillWechatCustomerRelationStatus()` | forEachå¾ªç¯è°ƒç”¨`getCustomerRelation()` | `/lead/distribute/shop/getChangeWaitedCluePageV2` | æ‰¹é‡æŸ¥è¯¢å¥½å‹å…³ç³» |\n| `CustomerDetailService.fillLabels()` | å¾ªç¯æŸ¥è¯¢æ ‡ç­¾ | `/customer/V2/mainDetail` | æ‰¹é‡æŸ¥è¯¢æ ‡ç­¾ |\n\n### ç¼ºå°‘ç¼“å­˜é—®é¢˜\n\n| æ•°æ®ç±»å‹ | å½“å‰çŠ¶æ€ | å½±å“æ¥å£ | å»ºè®®ç¼“å­˜ç­–ç•¥ |\n|----------|----------|----------|--------------|\n| å­—å…¸æ•°æ® | æ¯æ¬¡æŸ¥è¯¢DB | `/dictionary/list` | æœ¬åœ°ç¼“å­˜ï¼Œå¯åŠ¨æ—¶åŠ è½½ï¼Œå˜æ›´æ—¶åˆ·æ–° |\n| å‘˜å·¥ä¿¡æ¯ | æ¯æ¬¡RPC | `/common/emp/*` | Redisç¼“å­˜ï¼ŒTTL 10åˆ†é’Ÿ |\n| é—¨åº—ä¿¡æ¯ | æ¯æ¬¡RPC | å¤šä¸ªæ¥å£ | Redisç¼“å­˜ï¼ŒTTL 30åˆ†é’Ÿ |\n| é£é”Ÿæ ‡ç­¾ | æ¯æ¬¡å¤–éƒ¨è°ƒç”¨ | `/customer/getFeiKunLabel` | Redisç¼“å­˜ï¼ŒTTL 1å°æ—¶ |\n| ç°åº¦é…ç½® | æ¯æ¬¡æŸ¥è¯¢ | `/passengerFlow/flow/getReverseRelateGray` | æœ¬åœ°ç¼“å­˜ï¼ŒTTL 5åˆ†é’Ÿ |\n| å¥½å‹å…³ç³» | æ¯æ¬¡RPC | ä¼å¾®ç›¸å…³æ¥å£ | Redisç¼“å­˜ï¼ŒTTL 5åˆ†é’Ÿ |\n\n### åŒæ­¥é˜»å¡é—®é¢˜\n\n| é˜»å¡æ“ä½œ | å½±å“æ¥å£ | é˜»å¡æ—¶é—´ | å»ºè®®ä¼˜åŒ– |\n|----------|----------|----------|----------|\n| ESåŒæ­¥åˆ·æ–° | follow/newAdd, inputAndRelate, edit | 200-800ms | æ”¹ä¸ºMQå¼‚æ­¥ |\n| KafkaåŒæ­¥å‘é€ | finishNewTestDrive, issueClueConfirm | 100-500ms | äº‹åŠ¡æäº¤åå¼‚æ­¥å‘é€ |\n| é˜¿é‡Œäº‘OCR | getOcrInfo | 500-2000ms | å¼‚æ­¥åŒ–+ç»“æœç¼“å­˜ |\n| å°ç¨‹åºç ç”Ÿæˆ | newQrcodeRefresh | 500-1500ms | é¢„ç”Ÿæˆ+å»¶é•¿ç¼“å­˜ |"
  },
  "8": {
    "id": 8,
    "metadata": {
      "source": "final_issues_report.md",
      "section": "ä¼˜åŒ–å®æ–½è·¯çº¿å›¾"
    },
    "document": "# ä¼˜åŒ–å®æ–½è·¯çº¿å›¾\n\n## ç¬¬ä¸€é˜¶æ®µ - ç´§æ€¥ä¼˜åŒ–ï¼ˆ1-2å‘¨ï¼‰\n\n| åºå· | ä¼˜åŒ–é¡¹ | å½±å“æ¥å£ | é¢„è®¡æ”¶ç›Š | å·¥ä½œé‡ |\n|:----:|--------|----------|----------|:------:|\n| 1 | ESåˆ·æ–°å¼‚æ­¥åŒ– | follow/newAddç­‰ | é™ä½P99 800ms | 2å¤© |\n| 2 | N+1æŸ¥è¯¢ä¿®å¤ | getShopEmpByCustomParam, getChangeWaitedCluePageV2 | é™ä½P99 4000ms | 2å¤© |\n| 3 | æ ¸å¿ƒæ¥å£ç¼“å­˜ | mainDetail, dictionary/list | é™ä½P99 500ms | 2å¤© |\n| 4 | æ¶ˆæ¯å¼‚æ­¥å‘é€ | finishNewTestDrive, issueClueConfirm | é™ä½P99 500ms | 1å¤© |\n\n**é¢„è®¡æ•ˆæœ**ï¼š\n- follow/newAdd P99å»¶è¿Ÿé™ä½50%\n- getShopEmpByCustomParam P99å»¶è¿Ÿé™ä½80%\n- æ•´ä½“æ…¢è¯·æ±‚é‡å‡å°‘60%\n\n## ç¬¬äºŒé˜¶æ®µ - é‡ç‚¹ä¼˜åŒ–ï¼ˆ2-4å‘¨ï¼‰\n\n| åºå· | ä¼˜åŒ–é¡¹ | å½±å“æ¥å£ | é¢„è®¡æ”¶ç›Š | å·¥ä½œé‡ |\n|:----:|--------|----------|----------|:------:|\n| 1 | è¿œç¨‹è°ƒç”¨å¹¶è¡ŒåŒ– | mainDetail, detailNew | é™ä½P99 1000ms | 3å¤© |\n| 2 | å®Œå–„ç¼“å­˜ä½“ç³» | å‘˜å·¥ã€é—¨åº—ã€æ ‡ç­¾ç­‰ | é™ä½RPCè°ƒç”¨50% | 5å¤© |\n| 3 | è¯•é©¾æµç¨‹ä¼˜åŒ– | finishNewTestDrive, createSchedule | é™ä½P99 800ms | 3å¤© |\n| 4 | äºŒç»´ç é¢„ç”Ÿæˆ | newQrcodeRefresh | é™ä½P99 2000ms | 2å¤© |\n\n## ç¬¬ä¸‰é˜¶æ®µ - é•¿æœŸæ²»ç†ï¼ˆ1-2æœˆï¼‰\n\n| åºå· | ä¼˜åŒ–é¡¹ | è¯´æ˜ | å·¥ä½œé‡ |\n|:----:|--------|------|:------:|\n| 1 | ç»Ÿä¸€RPCè°ƒç”¨å±‚ | å°è£…è¶…æ—¶ã€é‡è¯•ã€ç†”æ–­ã€é™çº§ | 5å¤© |\n| 2 | ç»Ÿä¸€ç¼“å­˜æ¡†æ¶ | æœ¬åœ°ç¼“å­˜+åˆ†å¸ƒå¼ç¼“å­˜äºŒçº§æ¶æ„ | 5å¤© |\n| 3 | äº‹åŠ¡è¾¹ç•Œæ¢³ç† | ç¼©å°äº‹åŠ¡èŒƒå›´ï¼Œåˆ†ç¦»è¯»å†™ | 5å¤© |\n| 4 | ç›‘æ§å‘Šè­¦å®Œå–„ | æ¥å£P99ç›‘æ§ï¼Œæ…¢æŸ¥è¯¢å‘Šè­¦ | 3å¤© |"
  },
  "9": {
    "id": 9,
    "metadata": {
      "source": "final_issues_report.md",
      "section": "é€šç”¨ä¼˜åŒ–å»ºè®®å’Œç›‘æ§å‘Šè­¦"
    },
    "document": "# é€šç”¨ä¼˜åŒ–å»ºè®®\n\n## å¼•å…¥æœ¬åœ°ç¼“å­˜æ¡†æ¶ï¼ˆCaffeineï¼‰\n\n```java\n@Configuration\npublic class CaffeineCacheConfig {\n    @Bean\n    public CacheManager cacheManager() {\n        CaffeineCacheManager manager = new CaffeineCacheManager();\n        manager.setCaffeine(Caffeine.newBuilder()\n            .maximumSize(10000)\n            .expireAfterWrite(5, TimeUnit.MINUTES)\n            .recordStats());\n        return manager;\n    }\n}\n\n// ä½¿ç”¨ç¤ºä¾‹\n@Cacheable(value = \"dictionary\", key = \"#type\")\npublic List<DictionaryVO> getDictionaryByType(String type) {\n    return dictionaryMapper.selectByType(type);\n}\n```\n\n## ç»Ÿä¸€å¼‚æ­¥å¤„ç†æ¡†æ¶\n\n```java\n// ESåˆ·æ–°ç»Ÿä¸€èµ°æ¶ˆæ¯é˜Ÿåˆ—\n@Service\npublic class AsyncEsRefreshService {\n    @Autowired\n    private KafkaTemplate<String, String> kafkaTemplate;\n    \n    public void asyncRefresh(Long leadId) {\n        kafkaTemplate.send(\"es-refresh-topic\", String.valueOf(leadId));\n    }\n}\n\n// æ¶ˆè´¹è€…å¼‚æ­¥å¤„ç†\n@KafkaListener(topics = \"es-refresh-topic\")\npublic void handleEsRefresh(String leadId) {\n    customerESService.commitByLeadId(Long.parseLong(leadId));\n}\n```\n\n## æ‰¹é‡æŸ¥è¯¢å·¥å…·ç±»\n\n```java\n@Component\npublic class BatchQueryHelper {\n    \n    /**\n     * æ‰¹é‡æŸ¥è¯¢å¥½å‹å…³ç³»\n     */\n    public Map<Long, RelationVO> batchGetCustomerRelation(List<Long> customerIds) {\n        if (CollectionUtils.isEmpty(customerIds)) {\n            return Collections.emptyMap();\n        }\n        // åˆ†æ‰¹æŸ¥è¯¢ï¼Œæ¯æ‰¹100æ¡\n        return Lists.partition(customerIds, 100).stream()\n            .map(batch -> baseCpService.batchGetRelation(batch))\n            .flatMap(map -> map.entrySet().stream())\n            .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\n    }\n}\n```\n\n## ç›‘æ§å‘Šè­¦å»ºè®®\n\n### æ¥å£æ€§èƒ½ç›‘æ§\n\n| ç›‘æ§é¡¹ | å‘Šè­¦é˜ˆå€¼ | è¯´æ˜ |\n|--------|----------|------|\n| P99å»¶è¿Ÿ | > 1000ms | å…³é”®æ¥å£å“åº”è¿‡æ…¢ |\n| P95å»¶è¿Ÿ | > 500ms | æ•´ä½“æ€§èƒ½ä¸‹é™ |\n| é”™è¯¯ç‡ | > 1% | æœåŠ¡å¼‚å¸¸ |\n| QPS | > å†å²å³°å€¼120% | æµé‡å¼‚å¸¸ |\n\n### å…³é”®æŒ‡æ ‡Dashboard\n\n- æ…¢è¯·æ±‚TOP10å®æ—¶æ’è¡Œ\n- å„æ¥å£P50/P95/P99å»¶è¿Ÿè¶‹åŠ¿\n- ç¼“å­˜å‘½ä¸­ç‡\n- RPCè°ƒç”¨è€—æ—¶åˆ†å¸ƒ"
  },
  "10": {
    "id": 10,
    "metadata": {
      "source": "business_logic.md",
      "section": "åˆ†æå…ƒæ•°æ®"
    },
    "document": "# xp-dragon-mmp ä¸šåŠ¡é€»è¾‘åˆ†ææŠ¥å‘Š\n\n> **é¡¹ç›®åç§°**: xp-dragon-mmp (è¥é”€å¸‚åœºé¢„ç®—ç®¡ç†å¹³å°)\n> **åˆ†ææ—¥æœŸ**: 2026-02-06\n> **åˆ†æäººå‘˜**: BusinessLogicAnalyzer Agent\n> **åˆ†ææ¨¡å¼**: fresh\n\n## åˆ†æå…ƒæ•°æ®\n\n| é¡¹ç›® | å†…å®¹ |\n|------|------|\n| åˆ†ææ¨¡å¼ | fresh |\n| çŸ¥è¯†åº“è·¯å¾„ | E:\\workspace\\xpproject\\xp-dragon-mmp\\project\\knowledge_base\\ |\n| åˆ†ææ—¶é—´ | 2026-02-06 |\n\n## åˆ†æè¦†ç›–ç‡\n\n| æŒ‡æ ‡ | å€¼ |\n|------|-----|\n| è¯†åˆ«æ€»æµç¨‹æ•° | 15 |\n| æœ¬è½®åˆ†ææµç¨‹æ•° | 15 |\n\n## ç½®ä¿¡åº¦åˆ†å¸ƒ\n\n| ç­‰çº§ | æ•°é‡ | è¯´æ˜ |\n|------|------|------|\n| ğŸ”µ **é«˜** | 10 | åŸºäºä»£ç ç›´æ¥åˆ†æï¼Œç½®ä¿¡åº¦é«˜ |\n| ğŸŸ¡ **ä¸­** | 4 | éœ€è¦éƒ¨åˆ†æ¨æ–­ï¼Œå»ºè®®äººå·¥å¤æ ¸ |\n| ğŸ”´ **ä½** | 1 | æ¶‰åŠå¤–éƒ¨ç³»ç»Ÿäº¤äº’ï¼Œéœ€è¿ç»´ç¡®è®¤ |"
  },
  "11": {
    "id": 11,
    "metadata": {
      "source": "business_logic.md",
      "section": "ä¸šåŠ¡æ¨¡å—åˆ’åˆ†"
    },
    "document": "# ä¸šåŠ¡æ¨¡å—åˆ’åˆ† - é¢†åŸŸåœ°å›¾\n\n## æ ¸å¿ƒåŸŸ (Core Domain)\n\n| æ¨¡å— | ç±»å‹ | æ ¸å¿ƒèŒè´£ | æ ¸å¿ƒæ–‡ä»¶ | ç½®ä¿¡åº¦ |\n|------|------|----------|----------|--------|\n| **é¡¹ç›®ç®¡ç† (Project)** | æ ¸å¿ƒåŸŸ | è¥é”€é¡¹ç›®å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼šç«‹é¡¹ç”³è¯·ã€é¢„ç®—ç¼–åˆ¶ã€æ‰§è¡Œè·Ÿè¸ªã€å…³é—­ç»“ç®— | `controller/project/ProjectController.java`<br/>`service/project/ProjectService.java`<br/>`entity/Project.java` | ğŸ”µé«˜ |\n| **æ´»åŠ¨ç®¡ç† (Campaign)** | æ ¸å¿ƒåŸŸ | å¸‚åœºæ´»åŠ¨åˆ›å»ºã€å®¡æ‰¹ã€å¼€å¯ã€æ•ˆæœè¿½è¸ªã€æ ¸é”€ç®¡ç† | `controller/campaign/CampaignController.java`<br/>`service/campaign/MmpCampaignService.java`<br/>`entity/MmpCampaign.java` | ğŸ”µé«˜ |\n| **é¢„ç®—ç®¡ç† (Budget)** | æ ¸å¿ƒåŸŸ | é¢„ç®—æ± ç®¡ç†ã€èµ„é‡‘å……å€¼ã€é¢„ç®—åˆ†é…ã€é¢„å ä¸é‡Šæ”¾ | `controller/budget/BudgetController.java`<br/>`service/budget/BudgetService.java`<br/>`entity/Budget.java` | ğŸ”µé«˜ |\n\n## æ”¯æ’‘åŸŸ (Supporting Domain)\n\n| æ¨¡å— | ç±»å‹ | æ ¸å¿ƒèŒè´£ | ç½®ä¿¡åº¦ |\n|------|------|----------|--------|\n| **åˆåŒç®¡ç† (Contract)** | æ”¯æ’‘åŸŸ | é¡¹ç›®/æ´»åŠ¨åˆåŒå…³è”ã€SRMåˆåŒåŒæ­¥ | ğŸŸ¡ä¸­ |\n| **æ ¸é”€ç®¡ç† (Verification)** | æ”¯æ’‘åŸŸ | æ´»åŠ¨è´¹ç”¨æ ¸é”€ç”³è¯·ã€å®¡æ‰¹ã€å‘ç¥¨ç®¡ç† | ğŸ”µé«˜ |\n| **è¿›åº¦ç®¡ç† (Progress)** | æ”¯æ’‘åŸŸ | é¡¹ç›®/æ´»åŠ¨æ‰§è¡Œè¿›åº¦æŠ¥å‘Šã€åé¦ˆæäº¤ | ğŸŸ¡ä¸­ |\n| **ç»“ç®—ç®¡ç† (Settlement)** | æ”¯æ’‘åŸŸ | é¡¹ç›®ç»“ç®—å‘èµ·ã€ERPç»“ç®—åŒæ­¥ | ğŸŸ¡ä¸­ |\n\n## é€šç”¨åŸŸ (Generic Domain)\n\n| æ¨¡å— | ç±»å‹ | æ ¸å¿ƒèŒè´£ | ç½®ä¿¡åº¦ |\n|------|------|----------|--------|\n| **å®¡æ‰¹æµç¨‹ (Flow)** | é€šç”¨åŸŸ | ç»Ÿä¸€å®¡æ‰¹æµæœåŠ¡è°ƒç”¨ä¸å›è°ƒå¤„ç† | ğŸ”µé«˜ |\n| **æ¶ˆæ¯é€šçŸ¥ (Message)** | é€šç”¨åŸŸ | æ¶ˆæ¯æ¨é€ï¼ˆä¼ä¸šå¾®ä¿¡ã€ç«™å†…ä¿¡ç­‰ï¼‰ | ğŸ”µé«˜ |\n| **æ–‡ä»¶æœåŠ¡ (File)** | é€šç”¨åŸŸ | æ–‡ä»¶ä¸Šä¼ ä¸‹è½½ | - |\n| **ERPé›†æˆ (External)** | é€šç”¨åŸŸ | ERPç³»ç»Ÿå¯¹æ¥ | - |\n\n## æ¨¡å—ä¾èµ–å…³ç³»\n- é¡¹ç›® â†’ é¢„ç®—ã€æ´»åŠ¨ã€åˆåŒã€è¿›åº¦ã€ç»“ç®—\n- æ´»åŠ¨ â†’ é¢„ç®—ã€æ ¸é”€ã€è¿›åº¦ã€åˆåŒ\n- é¢„ç®—æ ¸é”€ â†’ æ¶ˆæ¯é€šçŸ¥\n- å®¡æ‰¹æµç¨‹ â†’ æ¶ˆæ¯é€šçŸ¥\n- ç»“ç®— â†’ ERP\n- åˆåŒ â†’ æ–‡ä»¶æœåŠ¡"
  },
  "12": {
    "id": 12,
    "metadata": {
      "source": "business_logic.md",
      "section": "é¡¹ç›®ç«‹é¡¹æµç¨‹"
    },
    "document": "# é¡¹ç›®ç«‹é¡¹æµç¨‹\n\n**ç½®ä¿¡åº¦**: ğŸ”µ é«˜\n\n## ä¸šåŠ¡æµç¨‹\n\n```mermaid\nflowchart TD\n    A[ç”¨æˆ·å‘èµ·ç«‹é¡¹ç”³è¯·] --> B{å‚æ•°æ ¡éªŒ}\n    B -->|æ ¡éªŒå¤±è´¥| C[è¿”å›é”™è¯¯]\n    B -->|æ ¡éªŒé€šè¿‡| D[åˆ›å»ºé¡¹ç›®ç”³è¯·è®°å½•]\n    D --> E[ç”Ÿæˆé¡¹ç›®ç¼–å·]\n    E --> F[åˆ›å»ºé¡¹ç›®é¢„ç®—ä¿¡æ¯]\n    F --> G{éœ€è¦å®¡æ‰¹?}\n    G -->|æ˜¯| H[å‘èµ·å®¡æ‰¹æµç¨‹]\n    H --> I{å®¡æ‰¹ç»“æœ}\n    I -->|é€šè¿‡| J[åˆ›å»ºé¡¹ç›®è®°å½•]\n    I -->|é©³å›| K[æ›´æ–°ç”³è¯·çŠ¶æ€ä¸ºé©³å›]\n    G -->|å¦| J\n    J --> L[åŒæ­¥é¢„ç®—åˆ°ERP]\n    L --> M[é¡¹ç›®ç«‹é¡¹å®Œæˆ]\n```\n\n## è°ƒç”¨é“¾è¿½è¸ª\n\n```\nHTTP Request: POST /logan/dragon/mmp/project/application/save\n    â†“\nProjectApplicationController.saveProjectApplication()\n    â†“\nProjectApplicationService.addProjectApplication()\n    â”œâ”€â”€ SequenceGenerationService.generateApplicationNo()\n    â”œâ”€â”€ ProjectApplicationMapper.insert()\n    â”œâ”€â”€ ProjectBudgetInfoService.createBudgetInfos()\n    â””â”€â”€ FlowBootService.submitFlow() (if operateType=SUBMIT)\n    â†“\nHTTP Response\n\n[å¼‚æ­¥æµç¨‹]\nKafka: dragon_work_flow_result (å®¡æ‰¹é€šè¿‡åå›è°ƒ)\n    â†“\nProjectApplicationProcessResultHandler.onSuccess()\n    â†“\nErpBudgetSyncService.syncProjectBudget() [ERPåŒæ­¥åœ¨å®¡æ‰¹é€šè¿‡åè§¦å‘]\n```\n\n## å…³é”®ç±»å’Œæ–¹æ³•\n\n| ç±»å | æ–¹æ³•å | èŒè´£ | æ–‡ä»¶è·¯å¾„ |\n|------|--------|------|----------|\n| `ProjectApplicationController` | `saveProjectApplication()` | æ¥æ”¶ç«‹é¡¹ç”³è¯·è¯·æ±‚ | `boot/controller/project/ProjectApplicationController.java` |\n| `ProjectApplicationService` | `addProjectApplication()` | ç«‹é¡¹ç”³è¯·ä¸šåŠ¡é€»è¾‘ | `service/project/ProjectApplicationService.java` |\n| `ProjectBudgetInfoService` | `createBudgetInfos()` | åˆ›å»ºé¡¹ç›®é¢„ç®—ä¿¡æ¯ | `service/project/ProjectBudgetInfoService.java` |\n| `ErpBudgetSyncService` | `syncProjectBudget()` | åŒæ­¥é¢„ç®—åˆ°ERP | `external/erp/ErpBudgetSyncService.java` |\n\n## æ³¨æ„äº‹é¡¹\n1. ç«‹é¡¹æµç¨‹é€šè¿‡ `operateType` å‚æ•°åŒºåˆ†\"ä¿å­˜è‰ç¨¿\"å’Œ\"æäº¤å®¡æ‰¹\"ä¸¤ç§æ“ä½œæ¨¡å¼\n2. **ERPé¢„ç®—åŒæ­¥æ—¶æœº**: `ErpBudgetSyncService.syncProjectBudget()` å®é™…åœ¨å®¡æ‰¹é€šè¿‡åé€šè¿‡ Kafka å¼‚æ­¥å›è°ƒè§¦å‘ï¼Œè€Œéåœ¨åˆ›å»ºé¡¹ç›®ç”³è¯·æ—¶åŒæ­¥è°ƒç”¨"
  },
  "13": {
    "id": 13,
    "metadata": {
      "source": "business_logic.md",
      "section": "å¸‚åœºæ´»åŠ¨åˆ›å»ºæµç¨‹"
    },
    "document": "# å¸‚åœºæ´»åŠ¨åˆ›å»ºä¸å®¡æ‰¹æµç¨‹\n\n**ç½®ä¿¡åº¦**: ğŸ”µ é«˜\n\n## ä¸šåŠ¡æµç¨‹\n\n```mermaid\nflowchart TD\n    A[ç”¨æˆ·åˆ›å»ºæ´»åŠ¨] --> B{å…¥å‚æ ¡éªŒ}\n    B -->|æ ¡éªŒå¤±è´¥| C[è¿”å›é”™è¯¯]\n    B -->|æ ¡éªŒé€šè¿‡| D{æ ¡éªŒæ´»åŠ¨é¢„ç®—}\n    D -->|é¢„ç®—ä¸è¶³| E[è¿”å›é¢„ç®—ä¸è¶³]\n    D -->|é¢„ç®—å……è¶³| F[æ ¡éªŒé—¨åº—é¢„ç®—]\n    F --> G[åˆ›å»ºæ´»åŠ¨è®°å½•]\n    G --> H{æäº¤/ä¿å­˜?}\n    H -->|ä¿å­˜| I[çŠ¶æ€: å¾…æäº¤]\n    H -->|æäº¤| J[å‘èµ·å®¡æ‰¹æµç¨‹]\n    J --> K{å®¡æ‰¹ç»“æœ}\n    K -->|é€šè¿‡| L[çŠ¶æ€: å¾…å¼€å¯]\n    K -->|é©³å›| M[çŠ¶æ€: å·²é©³å›]\n    L --> N[é¢„å é¢„ç®—]\n    N --> O[åŒæ­¥WBSåˆ°SRM]\n    O --> P[æ´»åŠ¨åˆ›å»ºå®Œæˆ]\n```\n\n## è°ƒç”¨é“¾è¿½è¸ª\n\n```\nHTTP Request: POST /logan/dragon/mmp/campaign/add\n    â†“\nCampaignController.addCampaign()\n    â†“\nMmpCampaignService.addMmpCampaign()\n    â”œâ”€â”€ checkMmpCampaignInfo() [å‚æ•°æ ¡éªŒ]\n    â”œâ”€â”€ checkCampaignBudget() [é¢„ç®—æ ¡éªŒ]\n    â”œâ”€â”€ addCampaignInformation() [èµ‹å€¼å¤„ç†]\n    â”œâ”€â”€ MmpCampaignBudgetService.addCampaignBudget(List<AddCampaignBudgetDto>)\n    â””â”€â”€ MmpCampaignKpiService.createKpis()\n    â†“\nMmpCampaignService.doApproveForNewCampaign() (if submit)\n    â”œâ”€â”€ FlowBootService.submitFlow()\n    â””â”€â”€ MmpCampaignBudgetService.preemptedActivityBudget()\n    â†“\nSrmSyncWbsInfoService.syncCampaignWbs()\n    â†“\nHTTP Response\n```\n\n## å…³é”®ç±»å’Œæ–¹æ³•\n\n| ç±»å | æ–¹æ³•å | èŒè´£ |\n|------|--------|------|\n| `CampaignController` | `addCampaign()` | æ–°å¢æ´»åŠ¨å…¥å£ |\n| `MmpCampaignService` | `addMmpCampaign()` | æ´»åŠ¨åˆ›å»ºæ ¸å¿ƒé€»è¾‘ |\n| `MmpCampaignBudgetServiceImpl` | `addCampaignBudget()` | åˆ›å»ºæ´»åŠ¨é¢„ç®—ï¼ˆæ‰¹é‡ï¼‰ |\n| `MmpCampaignBudgetServiceImpl` | `preemptedActivityBudget()` | é¢„å æ´»åŠ¨é¢„ç®— |\n| `SrmSyncWbsInfoService` | `syncCampaignWbs()` | åŒæ­¥æ´»åŠ¨WBSåˆ°SRM |"
  },
  "14": {
    "id": 14,
    "metadata": {
      "source": "business_logic.md",
      "section": "é¢„ç®—æ± ç®¡ç†æµç¨‹"
    },
    "document": "# é¢„ç®—æ± ç®¡ç†æµç¨‹\n\n**ç½®ä¿¡åº¦**: ğŸ”µ é«˜\n\n## ä¸šåŠ¡æµç¨‹\n\n```mermaid\nflowchart TD\n    A[ç®¡ç†å‘˜åˆ›å»ºèµ„é‡‘æ± ] --> B{æ ¡éªŒå‚æ•°}\n    B -->|å¤±è´¥| C[è¿”å›é”™è¯¯]\n    B -->|é€šè¿‡| D{æ ¡éªŒèµ„é‡‘æ± æ˜¯å¦å·²å­˜åœ¨}\n    D -->|å·²å­˜åœ¨| E[è¿”å›é‡å¤é”™è¯¯]\n    D -->|ä¸å­˜åœ¨| F[åˆ›å»ºé¢„ç®—æ± è®°å½•]\n    F --> G[ç”Ÿæˆé¢„ç®—ç¼–å·]\n    G --> H[èµ„é‡‘æ± åˆ—è¡¨]\n    H --> I{æ“ä½œç±»å‹}\n    I -->|å……å€¼| J[è¾“å…¥å……å€¼é‡‘é¢]\n    J --> K{æ ¡éªŒå……å€¼é‡‘é¢}\n    K -->|é‡‘é¢æ— æ•ˆ| L[è¿”å›å……å€¼é”™è¯¯]\n    K -->|é‡‘é¢æœ‰æ•ˆ| M[è®°å½•å……å€¼æ—¥å¿—]\n    M --> N[æ›´æ–°æ± ä½™é¢]\n    N --> O[è®°å½•å……å€¼æ¥æº]\n    I -->|æŸ¥è¯¢| P[è¿”å›æ± çŠ¶æ€]\n    I -->|ç»“è½¬| Q[å‘èµ·ç»“è½¬ä»»åŠ¡]\n    Q --> R{æ ¡éªŒç»“è½¬æ¡ä»¶}\n    R -->|ä¸æ»¡è¶³| S[è¿”å›ç»“è½¬é”™è¯¯]\n    R -->|æ»¡è¶³| T[è®¡ç®—ç»“è½¬é‡‘é¢]\n    T --> U[ç”Ÿæˆæ–°ç‰ˆæœ¬é¢„ç®—]\n```\n\n## è°ƒç”¨é“¾è¿½è¸ª\n\n```\n# åˆ›å»ºèµ„é‡‘æ± æµç¨‹\nHTTP Request: POST /logan/dragon/mmp/budget/add_budget_pool\n    â†“\nBudgetController.addBudgetPool()\n    â†“\nBudgetService.addBudgetPool()\n    â”œâ”€â”€ validateBudgetPoolParams() [å‚æ•°æ ¡éªŒ]\n    â”œâ”€â”€ checkBudgetPoolExists() [æ£€æŸ¥é‡å¤]\n    â”œâ”€â”€ SequenceGenerationService.generateBudgetNo()\n    â””â”€â”€ BudgetMapper.insert()\n\n# èµ„é‡‘æ± å……å€¼æµç¨‹  \nHTTP Request: POST /logan/dragon/mmp/budget/budget_pool_recharge\n    â†“\nBudgetController.rechargeBudgetPool()\n    â†“\nBudgetService.rechargeBudgetPool()\n    â”œâ”€â”€ validateRechargeAmount() [é‡‘é¢æ ¡éªŒ]\n    â”œâ”€â”€ BudgetMapper.updateBalance() [æ›´æ–°ä½™é¢]\n    â””â”€â”€ MmpRechargeRecordMapper.insert() [è®°å½•æ—¥å¿—]\n```\n\n## å…³é”®ç±»\n\n| ç±»å | æ–¹æ³•å | èŒè´£ |\n|------|--------|------|\n| `BudgetController` | `addBudgetPool()` | åˆ›å»ºèµ„é‡‘æ±  |\n| `BudgetController` | `rechargeBudgetPool()` | èµ„é‡‘æ± å……å€¼ |\n| `BudgetService` | `queryBudgetPool()` | æŸ¥è¯¢é¢„ç®—æ±  |\n| `MmpBudgetCarryingForwardService` | `carryForward()` | é¢„ç®—ç»“è½¬ |"
  },
  "15": {
    "id": 15,
    "metadata": {
      "source": "business_logic.md",
      "section": "é¡¹ç›®ç»“ç®—å’Œæ´»åŠ¨æ ¸é”€æµç¨‹"
    },
    "document": "# é¡¹ç›®å…³é—­ä¸ç»“ç®—æµç¨‹\n\n**ç½®ä¿¡åº¦**: ğŸŸ¡ ä¸­\n\n## ä¸šåŠ¡æµç¨‹\n\n```mermaid\nflowchart TD\n    A[ç”¨æˆ·å‘èµ·å…³é—­é¡¹ç›®] --> B{å…³é—­æ ¡éªŒ}\n    B -->|æ ¡éªŒå¤±è´¥| C[è¿”å›æ ¡éªŒé”™è¯¯]\n    B -->|æ ¡éªŒé€šè¿‡| D[æ›´æ–°é¡¹ç›®çŠ¶æ€: å¾…å…³é—­]\n    D --> E[å‘èµ·ç»“ç®—ä»»åŠ¡]\n    E --> F{WBSç»“ç®—æ£€æŸ¥}\n    F -->|å­˜åœ¨æœªå®ŒæˆWBS| G[ç­‰å¾…WBSå®Œæˆ]\n    G --> F\n    F -->|å…¨éƒ¨å®Œæˆ| H[åŒæ­¥ERPç»“ç®—]\n    H --> I{ERPç»“ç®—ç»“æœ}\n    I -->|æˆåŠŸ| J[æ›´æ–°çŠ¶æ€: å·²ç»“æŸ]\n    I -->|å¤±è´¥| K[æ›´æ–°çŠ¶æ€: ç»“ç®—å¤±è´¥]\n    K --> L[è®°å½•å¤±è´¥åŸå› ]\n```\n\n## è°ƒç”¨é“¾è¿½è¸ª\n\n```\nHTTP Request: POST /logan/dragon/mmp/project/close_project\n    â†“\nProjectController.closeProject()\n    â†“\nProjectService.closeProjectProcess()\n    â”œâ”€â”€ projectCloseCheck() [å…³é—­æ ¡éªŒ]\n    â”œâ”€â”€ updateProjectStatus(WAIT_CLOSE)\n    â””â”€â”€ ProjectSettlementService.initiateSettlement()\n        â”œâ”€â”€ ErpSettleCompletedService.settle()\n        â””â”€â”€ updateProjectStatus(END/SETTLE_FAILED)\n```\n\n---\n\n# æ´»åŠ¨æ ¸é”€æµç¨‹\n\n**ç½®ä¿¡åº¦**: ğŸ”µ é«˜\n\n## ä¸šåŠ¡æµç¨‹\n\n```mermaid\nflowchart TD\n    A[é—¨åº—æäº¤æ ¸é”€ç”³è¯·] --> B{æ ¡éªŒæ´»åŠ¨çŠ¶æ€}\n    B -->|çŠ¶æ€ä¸å…è®¸| C[è¿”å›é”™è¯¯]\n    B -->|å…è®¸æ ¸é”€| D[åˆ›å»ºæ ¸é”€å•]\n    D --> E[ä¸Šä¼ å‘ç¥¨é™„ä»¶]\n    E --> F[æäº¤å®¡æ‰¹]\n    F --> G{å®¡æ‰¹ç»“æœ}\n    G -->|é€šè¿‡| H[æ›´æ–°æ ¸é”€çŠ¶æ€]\n    H --> I[é‡Šæ”¾é¢„å é‡‘é¢]\n    I --> J[è®°å½•å…¥è´¦é‡‘é¢]\n    G -->|é©³å›| K[é€€å›ä¿®æ”¹]\n```"
  },
  "16": {
    "id": 16,
    "metadata": {
      "source": "business_logic.md",
      "section": "é¡¹ç›®çŠ¶æ€æœº"
    },
    "document": "# é¡¹ç›®çŠ¶æ€æœº (Project)\n\n**ç½®ä¿¡åº¦**: ğŸ”µ é«˜\n\n> âš ï¸ ç±»å‹å®‰å…¨è¯´æ˜: é¡¹ç›®å®ä½“ `Project.java` ä¸­çš„ `status` å­—æ®µä½¿ç”¨ `Integer` ç±»å‹å­˜å‚¨çŠ¶æ€å€¼ï¼Œè€Œéæšä¸¾ç±»å‹ã€‚å»ºè®®é€šè¿‡ `ProjectStatusEnum` æšä¸¾ç±»è¿›è¡ŒçŠ¶æ€å€¼çš„è®¿é—®å’Œæ¯”è¾ƒã€‚\n\n## çŠ¶æ€åˆ—è¡¨\n\n| çŠ¶æ€ç  | çŠ¶æ€å | è¯´æ˜ |\n|--------|--------|------|\n| `0` | `ALREADY_APPLICATION` | è¿›è¡Œä¸­ |\n| `-1` | `WAIT_CLOSE` | å¾…å…³é—­ |\n| `1` | `CLOSED` | ERPç»“ç®—ä¸­ |\n| `4` | `SETTLING` | éªé¾™ç»“ç®—ä¸­ |\n| `7` | `SETTLE_FAILED` | ç»“ç®—å¤±è´¥ |\n| `2` | `END` | å·²ç»“æŸ |\n| `3` | `CANCELED` | å·²å–æ¶ˆ |\n\n## çŠ¶æ€æµè½¬è§„åˆ™\n\n| æ¥æºçŠ¶æ€ | ç›®æ ‡çŠ¶æ€ | è§¦å‘æ¡ä»¶ | å®ˆå«æ¡ä»¶ |\n|----------|----------|----------|----------|\n| - | `ALREADY_APPLICATION` | ç«‹é¡¹å®¡æ‰¹é€šè¿‡ | - |\n| `ALREADY_APPLICATION` | `WAIT_CLOSE` | å‘èµ·å…³é—­ | å…³é—­æ ¡éªŒé€šè¿‡ |\n| `WAIT_CLOSE` | `SETTLING` | å‘èµ·ç»“ç®— | WBSå…¨éƒ¨å®Œæˆ |\n| `SETTLING` | `CLOSED` | ERPç»“ç®—ä¸­ | - |\n| `CLOSED` | `END` | ERPç»“ç®—å®Œæˆ | - |\n| `SETTLING` | `SETTLE_FAILED` | ç»“ç®—å¤±è´¥ | - |\n| `ALREADY_APPLICATION` | `CANCELED` | å–æ¶ˆé¡¹ç›® | å®¡æ‰¹é€šè¿‡ |\n\n## çŠ¶æ€æœºå›¾\n\n```mermaid\nstateDiagram-v2\n    [*] --> ALREADY_APPLICATION: ç«‹é¡¹å®¡æ‰¹é€šè¿‡\n    \n    ALREADY_APPLICATION --> WAIT_CLOSE: å‘èµ·å…³é—­\n    ALREADY_APPLICATION --> CANCELED: å–æ¶ˆé¡¹ç›®\n    \n    WAIT_CLOSE --> SETTLING: å‘èµ·ç»“ç®—\n    \n    SETTLING --> CLOSED: ERPç»“ç®—ä¸­\n    SETTLING --> SETTLE_FAILED: ç»“ç®—å¤±è´¥\n    \n    CLOSED --> END: ERPç»“ç®—å®Œæˆ\n    \n    END --> [*]\n    CANCELED --> [*]\n    SETTLE_FAILED --> SETTLING: é‡æ–°ç»“ç®—\n```"
  },
  "17": {
    "id": 17,
    "metadata": {
      "source": "business_logic.md",
      "section": "æ´»åŠ¨çŠ¶æ€æœº"
    },
    "document": "# æ´»åŠ¨çŠ¶æ€æœº (Campaign)\n\n**ç½®ä¿¡åº¦**: ğŸ”µ é«˜\n\n> âš ï¸ ç±»å‹å®‰å…¨è¯´æ˜: æ´»åŠ¨å®ä½“ `MmpCampaign.java` ä¸­çš„ `status` å­—æ®µä½¿ç”¨ `Byte` ç±»å‹å­˜å‚¨çŠ¶æ€å€¼ï¼Œè€Œéæšä¸¾ç±»å‹ã€‚å»ºè®®é€šè¿‡ `MmpCampaignStatusEnum` æšä¸¾ç±»è¿›è¡ŒçŠ¶æ€å€¼çš„è®¿é—®å’Œæ¯”è¾ƒã€‚\n\n## çŠ¶æ€åˆ—è¡¨\n\n| çŠ¶æ€ç  | çŠ¶æ€å | è¯´æ˜ |\n|--------|--------|------|\n| `7` | `WAIT_FOR_SUBMIT` | å¾…æäº¤ |\n| `2` | `APPROVING` | å¾…å®¡æ‰¹ |\n| `5` | `REJECTED` | å·²é©³å› |\n| `6` | `CANCELED` | å·²æ’¤å› |\n| `3` | `WAIT_FOR_ENABLE` | å¾…å¼€å¯ |\n| `1` | `ENABLE` | å·²å¼€å¯ |\n| `4` | `FINISHED` | å·²ç»“æŸ |\n\n## çŠ¶æ€æµè½¬è§„åˆ™\n\n| æ¥æºçŠ¶æ€ | ç›®æ ‡çŠ¶æ€ | è§¦å‘æ¡ä»¶ |\n|----------|----------|----------|\n| - | `WAIT_FOR_SUBMIT` | æ–°å»ºæ´»åŠ¨(ä¿å­˜) |\n| `WAIT_FOR_SUBMIT` | `APPROVING` | æäº¤å®¡æ‰¹ |\n| `REJECTED` | `APPROVING` | é‡æ–°æäº¤ |\n| `CANCELED` | `APPROVING` | é‡æ–°æäº¤ |\n| `APPROVING` | `WAIT_FOR_ENABLE` | å®¡æ‰¹é€šè¿‡ |\n| `APPROVING` | `REJECTED` | å®¡æ‰¹é©³å› |\n| `APPROVING` | `CANCELED` | ç”¨æˆ·æ’¤å› |\n| `WAIT_FOR_ENABLE` | `ENABLE` | å¼€å¯æ´»åŠ¨ |\n| `WAIT_FOR_ENABLE` | `CANCELED` | æ’¤å› |\n| `ENABLE` | `FINISHED` | æ´»åŠ¨ç»“æŸ |\n\n## çŠ¶æ€æœºå›¾\n\n```mermaid\nstateDiagram-v2\n    [*] --> WAIT_FOR_SUBMIT: æ–°å»ºæ´»åŠ¨(ä¿å­˜)\n    \n    WAIT_FOR_SUBMIT --> APPROVING: æäº¤å®¡æ‰¹\n    REJECTED --> APPROVING: é‡æ–°æäº¤\n    CANCELED --> APPROVING: é‡æ–°æäº¤\n    \n    APPROVING --> WAIT_FOR_ENABLE: å®¡æ‰¹é€šè¿‡\n    APPROVING --> REJECTED: å®¡æ‰¹é©³å›\n    APPROVING --> CANCELED: ç”¨æˆ·æ’¤å›\n    \n    WAIT_FOR_ENABLE --> ENABLE: å¼€å¯æ´»åŠ¨\n    WAIT_FOR_ENABLE --> CANCELED: æ’¤å›\n    \n    ENABLE --> FINISHED: æ´»åŠ¨ç»“æŸ\n    \n    FINISHED --> [*]\n```"
  },
  "18": {
    "id": 18,
    "metadata": {
      "source": "business_logic.md",
      "section": "APIä¸šåŠ¡æ˜ å°„"
    },
    "document": "# API ä¸šåŠ¡æ˜ å°„\n\n## é¡¹ç›®ç®¡ç† API\n\n| è·¯å¾„ | æ–¹æ³• | ä¸šåŠ¡ç”¨ä¾‹ | æœåŠ¡æ–¹æ³• |\n|------|------|----------|----------|\n| `/logan/dragon/mmp/project/list` | POST | é¡¹ç›®å°è´¦åˆ—è¡¨ | `ProjectService.searchProjectByCondition()` |\n| `/logan/dragon/mmp/project/detail` | POST | é¡¹ç›®è¯¦æƒ… | `ProjectService.getDetailByProjectNo()` |\n| `/logan/dragon/mmp/project/close_project` | POST | å…³é—­é¡¹ç›® | `ProjectService.closeProjectProcess()` |\n| `/logan/dragon/mmp/project/finish_project` | POST | å®Œæˆé¡¹ç›®(å‘èµ·ç»“ç®—) | `ProjectService.finishProject()` |\n| `/logan/dragon/mmp/project/update_date` | POST | ä¿®æ”¹é¡¹ç›®æ—¥æœŸ | `ProjectService.updateProjectDateByProjectNo()` |\n| `/logan/dragon/mmp/project/budget_list` | POST | é¡¹ç›®çœ‹æ¿åˆ—è¡¨ | `ProjectService.searchBudgetReportProjectDetails()` |\n| `/logan/dragon/mmp/project/feedback/insert` | POST | æäº¤é˜¶æ®µåé¦ˆ | `ProjectFeedbackService.insertFeedback()` |\n\n## æ´»åŠ¨ç®¡ç† API (12+ ç«¯ç‚¹)\n\n| è·¯å¾„ | æ–¹æ³• | ä¸šåŠ¡ç”¨ä¾‹ | å¤‡æ³¨ |\n|------|------|----------|------|\n| `/logan/dragon/mmp/campaign/add` | POST | æ–°å¢æ´»åŠ¨ | |\n| `/logan/dragon/mmp/campaign/update` | POST | ç¼–è¾‘æ´»åŠ¨ | |\n| `/logan/dragon/mmp/campaign/query/list` | POST | æ´»åŠ¨åˆ—è¡¨ | |\n| `/logan/dragon/mmp/campaign/detail` | POST | æ´»åŠ¨è¯¦æƒ… | âš ï¸ @Deprecated |\n| `/logan/dragon/mmp/campaign/detailNew` | POST | æ´»åŠ¨è¯¦æƒ…(æ–°ç‰ˆ) | æ¨èä½¿ç”¨ |\n| `/logan/dragon/mmp/campaign/handle` | POST | å¼€å¯/æ’¤å›æ´»åŠ¨ | |\n| `/logan/dragon/mmp/campaign/delete` | POST | åˆ é™¤æ´»åŠ¨ | |\n| `/logan/dragon/mmp/campaign/shop/add` | POST | æ–°å¢å‚ä¸é—¨åº— | |\n| `/logan/dragon/mmp/campaign/shop/update` | POST | ç¼–è¾‘å‚ä¸é—¨åº— | |\n| `/logan/dragon/mmp/campaign/shop/delete` | POST | åˆ é™¤å‚ä¸é—¨åº— | |\n| `/logan/dragon/mmp/campaign/record/list` | POST | æ´»åŠ¨æ“ä½œè®°å½• | |\n| `/logan/dragon/mmp/campaign/total/effect/searchNew` | POST | æ´»åŠ¨æ•ˆæœæŸ¥è¯¢ | |\n\n## é¢„ç®—ç®¡ç† API (9+ ç«¯ç‚¹)\n\n| è·¯å¾„ | æ–¹æ³• | ä¸šåŠ¡ç”¨ä¾‹ |\n|------|------|----------|\n| `/logan/dragon/mmp/budget/query_budget_pool` | POST | é¢„ç®—æ± æŸ¥è¯¢ |\n| `/logan/dragon/mmp/budget/add_budget_pool` | POST | æ–°å¢èµ„é‡‘æ±  |\n| `/logan/dragon/mmp/budget/budget_pool_list` | POST | èµ„é‡‘æ± åˆ—è¡¨ |\n| `/logan/dragon/mmp/budget/budget_pool_recharge` | POST | èµ„é‡‘æ± å……å€¼ |\n| `/logan/dragon/mmp/budget/create` | POST | åˆ›å»ºéƒ¨é—¨é’±åŒ… |\n| `/logan/dragon/mmp/budget/recharge_record_list` | POST | å……å€¼è®°å½•åˆ—è¡¨ |\n| `/logan/dragon/mmp/budget/carry/info/query` | POST | ç»“è½¬ä¿¡æ¯æŸ¥è¯¢ |\n| `/logan/dragon/mmp/budget/sync_budgets_to_erp` | POST | åŒæ­¥ERP | âš ï¸ @Deprecated |\n| `/logan/dragon/mmp/budget/sync_qiMao_budgets_to_erp` | POST | åŒæ­¥æ±½è´¸é’±åŒ… | âš ï¸ @Deprecated |"
  },
  "19": {
    "id": 19,
    "metadata": {
      "source": "business_logic.md",
      "section": "æ•°æ®æ¨¡å‹"
    },
    "document": "# æ•°æ®æ¨¡å‹ - æ ¸å¿ƒå®ä½“å…³ç³»\n\n## ERå›¾å…³ç³»\n\n```mermaid\nerDiagram\n    Project ||--o{ ProjectBudgetInfo : contains\n    Project ||--o{ ProjectLog : has\n    Project ||--o{ ProjectProgress : has\n    Project ||--|| ProjectApplication : from\n    Project ||--o{ MmpProjectContract : has\n    \n    Budget ||--o{ ProjectBudgetInfo : source\n    Budget ||--o{ MmpCampaignBudget : source\n    \n    MmpCampaign ||--o{ MmpCampaignBudget : has\n    MmpCampaign ||--o{ MmpCampaignKpi : has\n    MmpCampaign ||--o{ MmpCampaignProgress : has\n    MmpCampaign ||--o{ MmpCampaignVerificationSheet : has\n    MmpCampaign ||--o{ MmpCampaignContract : has\n```\n\n## æ ¸å¿ƒå®ä½“\n\n### Project (é¡¹ç›®)\n| å­—æ®µ | ç±»å‹ | è¯´æ˜ |\n|------|------|------|\n| id | Long PK | ä¸»é”® |\n| projectNo | String UK | é¡¹ç›®ç¼–å· |\n| projectName | String | é¡¹ç›®åç§° |\n| projectApplicationNo | FK | ç«‹é¡¹ç”³è¯·ç¼–å· |\n| projectStartDate | Date | å¼€å§‹æ—¥æœŸ |\n| projectEndDate | Date | ç»“æŸæ—¥æœŸ |\n| totalAmount | BigDecimal | é¢„ç®—æ€»é¢(å«ç¨) |\n| notaxLeavingAmount | BigDecimal | å‰©ä½™é‡‘é¢(ä¸å«ç¨) |\n| status | Integer | çŠ¶æ€ |\n| initiator | String | å‘èµ·äºº |\n| projectManager | String | é¡¹ç›®ç»ç† |\n\n### Budget (é¢„ç®—æ± )\n| å­—æ®µ | ç±»å‹ | è¯´æ˜ |\n|------|------|------|\n| id | Long PK | ä¸»é”® |\n| budgetNo | String UK | é¢„ç®—ç¼–å· |\n| budgetName | String | é¢„ç®—åç§° |\n| budgetYear | Integer | é¢„ç®—å¹´åº¦ |\n| budgetVersion | String | é¢„ç®—ç‰ˆæœ¬ |\n| budgetType | Integer | é¢„ç®—ç±»å‹ |\n| poolCode | String | èµ„é‡‘æ± ç¼–ç  |\n| notaxTotalAmount | BigDecimal | æ€»é¢(ä¸å«ç¨) |\n| notaxOccupiedAmount | BigDecimal | å·²å ç”¨é‡‘é¢ |\n| notaxLeavingAmount | BigDecimal | å‰©ä½™é‡‘é¢ |\n| status | Integer | çŠ¶æ€ |\n\n### MmpCampaign (æ´»åŠ¨)\n| å­—æ®µ | ç±»å‹ | è¯´æ˜ |\n|------|------|------|\n| id | Long PK | ä¸»é”® |\n| activityId | String UK | æ´»åŠ¨ID |\n| activityCode | String UK | æ´»åŠ¨ç¼–å· |\n| activityName | String | æ´»åŠ¨åç§° |\n| type | Byte | ç±»å‹ |\n| status | Byte | çŠ¶æ€ |\n| beginDateTime | Date | å¼€å§‹æ—¶é—´ |\n| endDateTime | Date | ç»“æŸæ—¶é—´ |\n| budget | BigDecimal | é¢„ç®—é‡‘é¢ |\n| publisherCode | String | å‘å¸ƒäººç¼–ç  |\n| thirdChannelId | FK | ç¬¬ä¸‰æ–¹æ¸ é“ID |\n\n## å…³é”®æ•°æ®è¡¨æ¸…å•\n\n| è¡¨å | ä¸­æ–‡å | æ ¸å¿ƒå­—æ®µ | å¯¹åº”å®ä½“ |\n|------|--------|----------|----------|\n| `mmp_project` | é¡¹ç›®è¡¨ | project_no, status, total_amount | `Project` |\n| `mmp_project_budget_info` | é¡¹ç›®é¢„ç®—ä¿¡æ¯ | project_no, wbs_no, budget_amount | `ProjectBudgetInfo` |\n| `mmp_project_application` | ç«‹é¡¹ç”³è¯·è¡¨ | application_no, status, approve_time | `ProjectApplication` |\n| `mmp_budget` | é¢„ç®—æ± è¡¨ | budget_no, budget_type, notax_leaving_amount | `Budget` |\n| `bz_campaign` | æ´»åŠ¨è¡¨ | activity_code, status, budget | `MmpCampaign` |\n| `mmp_campaign_budget` | æ´»åŠ¨é¢„ç®—è¡¨ | campaign_id, budget_composition, wbs_no | `MmpCampaignBudget` |\n| `mmp_campaign_kpi` | æ´»åŠ¨KPIè¡¨ | campaign_id, shop_code, budget | `MmpCampaignKpi` |\n| `mmp_campaign_verification_sheet` | æ ¸é”€å•è¡¨ | campaign_id, verification_amount, status | `MmpCampaignVerificationSheet` |"
  },
  "20": {
    "id": 20,
    "metadata": {
      "source": "business_logic.md",
      "section": "ä¸šåŠ¡æ ¡éªŒç‚¹å’Œå¤–éƒ¨ä¾èµ–"
    },
    "document": "# ä¸šåŠ¡æ ¡éªŒç‚¹æ¸…å•\n\n## æ ¸å¿ƒæ ¡éªŒç‚¹\n\n| ç¼–å· | åç§° | ä½ç½® | æ ¡éªŒæ¨¡å¼ | è¯´æ˜ |\n|------|------|------|----------|------|\n| **BVP-001** | æ´»åŠ¨é¢„ç®—æ ¡éªŒ | `CampaignController.checkCampaignBudget()` | é‡‘é¢æ¯”è¾ƒæ ¡éªŒ | æ´»åŠ¨é¢„ç®— â‰¤ é—¨åº—é¢„ç®— |\n| **BVP-002** | é¢„ç®—é‡‘é¢é›¶å€¼æ ¡éªŒ | `CampaignController.checkCampaignBudget()` | æ¡ä»¶å¿…å¡«æ ¡éªŒ | é¢„ç®—ä¸º0æ—¶å¿…é¡»å¡«å†™åŸå›  |\n| **BVP-003** | æ´»åŠ¨çŠ¶æ€ç¼–è¾‘æ ¡éªŒ | `CampaignController.checkUpdateStatus()` | çŠ¶æ€æœºæ ¡éªŒ | æ£€æŸ¥çŠ¶æ€æ˜¯å¦å…è®¸ç¼–è¾‘ |\n| **BVP-004** | é¡¹ç›®å…³é—­æ ¡éªŒ | `ProjectService.projectCloseCheck()` | ä¸šåŠ¡è§„åˆ™æ ¡éªŒ | æ£€æŸ¥æ˜¯å¦æœ‰æœªå®Œæˆçš„WBSã€æ´»åŠ¨ç­‰ |\n| **BVP-005** | æ´»åŠ¨KPIç›®æ ‡æ±‡æ€»æ ¡éªŒ | `CampaignController.checkMmpCampaignInfo()` | æ•°å€¼æ±‡æ€»æ ¡éªŒ | é—¨åº—çº¿ç´¢ç›®æ ‡ â‰¤ æ´»åŠ¨çº¿ç´¢ç›®æ ‡ |\n| **BVP-006** | æ¸ é“ä¿¡æ¯å¿…å¡«æ ¡éªŒ | `CampaignController.checkMmpCampaignInfo()` | éç©ºæ ¡éªŒ | ä¸€çº§/äºŒçº§/ä¸‰çº§æ¸ é“è‡³å°‘å¡«å†™ä¸€ä¸ª |\n| **BVP-007** | é¢„ç®—å ç”¨æ ¡éªŒ | `BudgetService.occupyBudget()` | ä½™é¢æ ¡éªŒ | æ£€æŸ¥é¢„ç®—æ± å‰©ä½™é‡‘é¢æ˜¯å¦è¶³å¤Ÿ |\n\n---\n\n# å¤–éƒ¨ä¾èµ–\n\n## Feign æœåŠ¡ä¾èµ–\n\n| æœåŠ¡åç§° | FeignClient Name | è°ƒç”¨è·¯å¾„ | ç”¨é€” | ç½®ä¿¡åº¦ |\n|----------|-----------------|----------|------|--------|\n| åŸºç¡€æœåŠ¡ | `xp-dragon-base-service-boot` | `/logan` | ç»„ç»‡ã€ç”¨æˆ·ã€æ¸ é“ç­‰åŸºç¡€æ•°æ® | ğŸ”µé«˜ |\n| å®¡æ‰¹æµæœåŠ¡ | `xp-dragon-work-flow-boot` | `/logan` | å®¡æ‰¹æµç¨‹å‘èµ·ä¸çŠ¶æ€æŸ¥è¯¢ | ğŸ”µé«˜ |\n| æ¶ˆæ¯æœåŠ¡ | `xp-dragon-base-msg-boot` | `/logan` | æ¶ˆæ¯æ¨é€ï¼ˆä¼å¾®ã€ç«™å†…ä¿¡ç­‰ï¼‰ | ğŸ”µé«˜ |\n| CRMæœåŠ¡ | `xp-dragon-crm-boot` | `/logan/crm` | å®¢æˆ·ã€çº¿ç´¢æ•°æ®æŸ¥è¯¢ | ğŸŸ¡ä¸­ |\n| ç§¯åˆ†æœåŠ¡ | `xp-cs-credit-api` | `/logan` | ç§¯åˆ†ç›¸å…³ä¸šåŠ¡ | ğŸŸ¡ä¸­ |\n| HRæœåŠ¡ | `xp-evi-basic-boot` | `/logan` | å‘˜å·¥ä¿¡æ¯æŸ¥è¯¢ | ğŸŸ¡ä¸­ |\n\n## Kafka æ¶ˆæ¯ç›‘å¬\n\n| Topic | ç›‘å¬å™¨ç±» | æ¶ˆæ¯ç”¨é€” | ç½®ä¿¡åº¦ |\n|-------|---------|----------|--------|\n| `dragon_work_flow_result` | `FlowUpdateListener` | æ¥æ”¶å®¡æ‰¹æµç¨‹ç»“æœå›è°ƒ | ğŸ”µé«˜ |\n| `CID_alikafka_dragon_base_modify_employee_topic` | `BaseShopChangeListener` | é—¨åº—å‘˜å·¥å˜æ›´åŒæ­¥ | ğŸŸ¡ä¸­ |\n| `topic-dragon-mmp-campaign-transfer` | `KafkaMmpCampaignTransferListener` | æ´»åŠ¨è½¬ç§»æ¶ˆæ¯å¤„ç† | ğŸŸ¡ä¸­ |\n| `CID_alikafka_dragon_base_message_cc_topic` | `BaseMessageCallBackListener` | æ¶ˆæ¯å‘é€å›è°ƒ | ğŸ”µé«˜ |\n\n## å¤–éƒ¨ç³»ç»Ÿé›†æˆ\n\n| ç³»ç»Ÿ | é›†æˆæ–¹å¼ | ç”¨é€” | å…³é”®ç±» |\n|------|----------|------|--------|\n| ERP | HTTP API | é¢„ç®—åŒæ­¥ã€WBSåŒæ­¥ã€ç»“ç®— | `ErpBudgetSyncService`, `ErpSettleCompletedService` |\n| SRM | HTTP API | åˆåŒåŒæ­¥ã€WBSä¿¡æ¯åŒæ­¥ | `SrmSyncWbsInfoService`, `SrmContractService` |\n| OAS | HTTP API | æ´»åŠ¨æ•ˆæœæ•°æ®æ¨é€ | `OASService` |\n| BMS | HTTP API | é¢„ç®—ç®¡ç†ç³»ç»ŸåŒæ­¥ | `BmsClientService`, `BmsBudgetPushService` |\n| Elasticsearch | REST Client | æ´»åŠ¨æ•ˆæœæ•°æ®æŸ¥è¯¢ | `ElasticsearchConfig` |\n| Redis/Redisson | Cache | ç¼“å­˜ã€åˆ†å¸ƒå¼é” | `RedisConfig`, `LockService` |"
  },
  "21": {
    "id": 21,
    "metadata": {
      "source": "business_logic.md",
      "section": "æ•°æ®æµåˆ†æå’Œæ€»ç»“"
    },
    "document": "# æ•°æ®æµåˆ†æ\n\n## é¡¹ç›®ç«‹é¡¹æ•°æ®æµ\n\n```mermaid\nflowchart LR\n    A[å‰ç«¯] -->|ProjectApplicationç›¸å…³DTO| B[ProjectApplicationController]\n    B -->|ProjectApplication| C[ProjectApplicationService]\n    C -->|Project| D[ProjectMapper]\n    D -->|SQL| E[(MySQL)]\n    \n    C -->|ProjectBudgetInfo| F[ProjectBudgetInfoMapper]\n    F -->|SQL| E\n    \n    C -->|FlowRequest| G[FlowBootService]\n    G -->|Feign| H[å®¡æ‰¹æµæœåŠ¡]\n    \n    C -->|ErpBudgetSync| I[ErpBudgetSyncService]\n    I -->|HTTP| J[ERPç³»ç»Ÿ]\n```\n\n## æ´»åŠ¨é¢„ç®—æ•°æ®æµ\n\n```mermaid\nflowchart LR\n    A[Budget Pool] -->|é¢„å | B[MmpCampaignBudget]\n    B -->|å…³è”| C[MmpCampaign]\n    C -->|åˆ†é…| D[MmpCampaignKpi/é—¨åº—]\n    \n    D -->|æ ¸é”€| E[MmpCampaignVerificationSheet]\n    E -->|å®¡æ‰¹é€šè¿‡| F[é‡Šæ”¾é¢„å ]\n    F -->|æ›´æ–°| A\n    \n    E -->|å…¥è´¦| G[å…¥è´¦é‡‘é¢]\n    G -->|åŒæ­¥| H[ERP]\n```\n\n---\n\n# é£é™©ç‚¹ä¸å¾…ç¡®è®¤é¡¹\n\n## ä¸šåŠ¡é£é™©\n\n| é£é™© | å½±å“ | å¯èƒ½æ€§ | å»ºè®®æªæ–½ |\n|------|------|--------|----------|\n| é¢„ç®—è¶…å  | è´¢åŠ¡æŸå¤± | ä¸­ | åŠ å¼ºå¹¶å‘æ§åˆ¶ï¼Œä½¿ç”¨åˆ†å¸ƒå¼é” |\n| ERPåŒæ­¥å¤±è´¥ | æ•°æ®ä¸ä¸€è‡´ | ä¸­ | å¢åŠ é‡è¯•æœºåˆ¶ï¼Œå®Œå–„è¡¥å¿é€»è¾‘ |\n| å®¡æ‰¹æµç¨‹è¶…æ—¶ | ä¸šåŠ¡é˜»å¡ | ä½ | å®šæœŸæ‹‰å–å®¡æ‰¹ç»“æœï¼Œå¢åŠ è¶…æ—¶æé†’ |\n| çŠ¶æ€æœºæµè½¬å¼‚å¸¸ | æ•°æ®çŠ¶æ€æ··ä¹± | ä½ | å¢åŠ çŠ¶æ€æœºæ—¥å¿—ï¼Œå®Œå–„çŠ¶æ€æ ¡éªŒ |\n| æ ¸é”€é‡‘é¢ç²¾åº¦æ¼‚ç§» | è´¢åŠ¡æ•°æ®å‡†ç¡®æ€§ | ä½ | åœ¨æ‰€æœ‰BigDecimalè®¡ç®—ä¸­æ˜¾å¼æŒ‡å®šèˆå…¥æ¨¡å¼ |\n\n## å¾…ç¡®è®¤é¡¹\n\n| ç¼–å· | å¾…ç¡®è®¤å†…å®¹ | åŸå›  | å»ºè®®æ“ä½œ |\n|------|-----------|------|----------|\n| **TBC-001** | ERPç³»ç»Ÿå¯¹æ¥åè®®å’Œæ¥å£è§„èŒƒ | ä»£ç ä¸­æ¶‰åŠå¤šå¤„ERPè°ƒç”¨ | è”ç³»ERPå›¢é˜Ÿè·å–æ¥å£æ–‡æ¡£ |\n| **TBC-002** | BMSé¢„ç®—ç³»ç»ŸåŒæ­¥æ—¶æœºå’Œè§„åˆ™ | `BmsBudgetPushService`é€»è¾‘å¤æ‚ | éœ€ä¸šåŠ¡æ–¹ç¡®è®¤åŒæ­¥è§„åˆ™ |\n| **TBC-003** | ç”Ÿäº§ç¯å¢ƒKafka Topicé…ç½® | Topicåç§°å¯èƒ½å› ç¯å¢ƒä¸åŒè€Œå˜åŒ– | æ ¸å¯¹ç”Ÿäº§ç¯å¢ƒé…ç½® |\n| **TBC-004** | é¢„ç®—ç»“è½¬çš„å…·ä½“ä¸šåŠ¡è§„åˆ™ | æ¶‰åŠå¤æ‚è®¡ç®— | éœ€è´¢åŠ¡ç¡®è®¤ç»“è½¬è§„åˆ™ |\n\n---\n\n# åˆ†ææ€»ç»“\n\n## ä¸»è¦å‘ç°\n\n1. **ç³»ç»Ÿå®šä½**: è¥é”€å¸‚åœºé¢„ç®—ç®¡ç†å¹³å°(MMP)ï¼Œè´Ÿè´£è¥é”€é¡¹ç›®å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€å¸‚åœºæ´»åŠ¨ç®¡ç†ã€é¢„ç®—æ± ç®¡ç†\n2. **æ ¸å¿ƒä¸šåŠ¡æ¨¡å—**: é¡¹ç›®ç®¡ç†ã€æ´»åŠ¨ç®¡ç†ã€é¢„ç®—ç®¡ç†ä¸‰å¤§æ ¸å¿ƒåŸŸ\n3. **é¢„ç®—æµè½¬æœºåˆ¶**: é¢„ç®—æ±  â†’ é¡¹ç›®é¢„ç®— â†’ æ´»åŠ¨é¢„ç®— â†’ é—¨åº—é¢„ç®— â†’ æ ¸é”€å…¥è´¦\n4. **çŠ¶æ€æœºå¤æ‚åº¦**: é¡¹ç›®7ç§çŠ¶æ€ã€æ´»åŠ¨7ç§çŠ¶æ€\n\n## ç½®ä¿¡åº¦æ€»ç»“\n\n| åˆ†æç»´åº¦ | ç½®ä¿¡åº¦ | è¯´æ˜ |\n|----------|--------|------|\n| æ¨¡å—åˆ’åˆ† | ğŸ”µé«˜ | åŸºäºä»£ç ç»“æ„ç›´æ¥åˆ†æ |\n| æ ¸å¿ƒæµç¨‹ | ğŸ”µé«˜ | è¿½è¸ªControllerâ†’Serviceâ†’Mapperè°ƒç”¨é“¾ |\n| çŠ¶æ€æœº | ğŸ”µé«˜ | åŸºäºæšä¸¾ç±»å’Œä¸šåŠ¡ä»£ç åˆ†æ |\n| å¤–éƒ¨ä¾èµ– | ğŸŸ¡ä¸­ | Feign/Kafkaå¯è§ï¼Œå…·ä½“åè®®éœ€ç¡®è®¤ |\n| ERPé›†æˆ | ğŸ”´ä½ | éœ€è¦è¿ç»´å’Œä¸šåŠ¡æ–¹ç¡®è®¤å…·ä½“è§„åˆ™ |"
  }
}