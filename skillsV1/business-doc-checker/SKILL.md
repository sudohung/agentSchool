---
name: business-doc-checker
description: 业务文档完整性检查工具 - 检查业务文档是否覆盖了Java项目中的核心模块、业务流程、API接口和数据表等业务内容。广度优先的检查，标记文档中缺失的内容并生成完整性报告。
---

# 业务文档完整性检查技能

## 概述

这个技能用于检查业务文档的完整性，确保文档覆盖了Java项目中的核心业务模块和流程。检查是广度优先的，不会深入检查模块的详细实现逻辑, 只输出检查报告，不允许修改目标源文档。

## 使用场景

当用户需要：
- 检查业务文档是否覆盖了系统的核心模块
- 确认文档是否描述了所有关键业务流程
- 验证文档是否包含所有重要的API接口
- 确认数据表设计是否在文档中有所体现
- 生成文档完整性检查报告

## 检查维度

### 1. 模块划分
- 识别项目中的核心模块/包结构
- 检查文档是否提到了这些模块
- 标记未在文档中出现的模块

### 2. 业务流程
- 结合git提交记录识别关键的业务流程和处理链路
- 检查文档是否覆盖了这些流程
- 标记文档中缺失的流程

### 3. API接口
- 扫描Controller层的API接口
- 检查文档是否描述了这些接口
- 标记未在文档中记录的接口

### 4. 数据表
- 识别项目中的数据表/实体
- 检查文档是否提到了这些数据表
- 标记文档中缺失的数据表

## 使用流程

### 基本流程

1. **用户提供文档**：用户提供业务文档内容或路径
2. **扫描GIT记录**：分析热点模块，识别核心内容
3. **扫描代码库**：分析Java项目结构，识别核心模块、流程、API和数据表
4. **对比检查**：将代码库中的业务内容与文档进行对比
5. **生成报告**：输出完整性检查报告，标记缺失项

### 具体步骤

#### 1. 获取文档内容
用户会提供业务文档，通常位于：
- README.md
- docs/ 目录下的文档
- 或其他自定义文档

#### 2. 扫描Java项目

使用以下方式扫描项目结构：

```bash
# 查找模块划分
find . -type f -name "*.java" | grep -E "(service|module)" | head -20

# 查找业务流程（Service层）
find . -type f -name "*Service.java" | head -30

# 查找API接口（Controller层）
find . -type f -name "*Controller.java" | head -20

# 查找数据表（Entity/Model）
find . -type f \( -name "*Entity.java" -o -name "*Model.java" -o -name "*DO.java" \) | head -20
```

#### 3. 分析检查

对每个检查维度：
- 提取代码中的关键元素（类名、方法名、注释等）
- 从文档中提取已描述的内容
- 对比找出缺失项

#### 4. 生成报告

报告格式：

```markdown
# 业务文档完整性检查报告

## 检查时间
YYYY-MM-DD

## 概览
- 总模块数: X
- 文档覆盖: Y (Z%)
- 缺失项: X - Y

## 详细结果

### 1. 模块划分
- ✅ 已覆盖: 模块A, 模块B
- ❌ 缺失: 模块C, 模块D

### 2. 业务流程
- ✅ 已覆盖: 流程A, 流程B
- ❌ 缺失: 流程C, 流程D

### 3. API接口
- ✅ 已覆盖: 接口A, 接口B
- ❌ 缺失: 接口C, 接口D

### 4. 数据表
- ✅ 已覆盖: 表A, 表B
- ❌ 缺失: 表C, 表D

## 建议
文档应补充以下内容:
1. 模块C的说明
2. 流程D的描述
3. 接口X的文档
4. 数据表Y的设计说明
```

## 工具使用

### 扫描项目结构

```bash
# 模块划分
Glob "**/*Service.java" "**/*Module.java" "**/*Manager.java"

# 业务流程
Glob "**/service/**/*.java"

# API接口
Glob "**/controller/**/*.java"

# 数据表
Glob "**/model/**/*.java" "**/entity/**/*.java" "**/domain/**/*.java"
```

### 检查文档内容

使用Grep检查文档中是否包含特定关键词：

```bash
# 检查模块名
Grep -i "模块名称" path/to/doc.md

# 检查类名
Grep -i "ClassName" path/to/doc.md
```

## 输出说明

检查结果将输出为Markdown格式的报告，包含：
- 概览统计（覆盖比例、缺失数量）
- 各维度的详细检查结果（使用✅/❌标记）
- 具体的缺失项列表
- 补充建议

输出文件：
business-integrity-report.md

## 注意事项

1. **广度优先**：检查关注业务范围的覆盖度，不深入模块的实现细节
2. **关键元素**：优先检查核心模块、主流流程和主要接口，忽略辅助类
3. **命名识别**：通过类名、包名和注释来识别业务含义
4. **报告清晰**：输出应简洁明了，便于后续补充文档

## 示例使用

用户请求：
> "请检查我的业务文档是否覆盖了所有核心模块"

技能执行：
1. 读取用户提供的文档
2. 扫描项目代码，提取核心模块列表
3. 对比文档与代码，找出缺失的模块
4. 生成完整性检查报告
