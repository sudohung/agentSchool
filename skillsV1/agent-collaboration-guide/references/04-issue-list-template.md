# 问题清单与优先级报告

> **项目名称**：`[项目名称]`
> **分析日期**：`[YYYY-MM-DD]`
> **分析人员**：`[姓名]`

---

## 1. 问题统计概览

| 类别 | P0 | P1 | P2 | P3 | P4 | 总计 |
|------|----|----|----|----|----|----|
| 代码质量问题 | `[X]` | `[X]` | `[X]` | `[X]` | `[X]` | `[X]` |
| 架构设计问题 | `[X]` | `[X]` | `[X]` | `[X]` | `[X]` | `[X]` |
| 性能问题 | `[X]` | `[X]` | `[X]` | `[X]` | `[X]` | `[X]` |
| 安全问题 | `[X]` | `[X]` | `[X]` | `[X]` | `[X]` | `[X]` |
| 运维问题 | `[X]` | `[X]` | `[X]` | `[X]` | `[X]` | `[X]` |
| **总计** | `[X]` | `[X]` | `[X]` | `[X]` | `[X]` | `[X]` |

## 2. P0 - 立即处理（共 `[X]` 项）

| 编号 | 问题描述 | 所在模块 | 影响 | 负责人 | 预计工作量 |
|------|----------|----------|------|--------|------------|
| P0-001 | `[严重问题描述]` | `[模块/类路径]` | `[具体影响]` | `[负责人]` | `[X人天]` |
| P0-002 | `[严重问题描述]` | `[模块/类路径]` | `[具体影响]` | `[负责人]` | `[X人天]` |

### P0 问题详情

#### P0-001: `[问题标题]`
- **问题类型**：`[代码质量/架构/性能/安全/运维]`
- **具体表现**：`[详细描述问题现象]`
- **根本原因**：`[分析根本原因]`
- **影响范围**：`[受影响的功能/用户/系统]`
- **复现步骤**：`[如何复现该问题]`
- **紧急程度**：`[为什么需要立即处理]`
- **建议方案**：`[具体的解决建议]`

#### P0-002: `[问题标题]`
[按照相同格式填写]

## 3. P1 - 紧急处理（共 `[X]` 项）

| 编号 | 问题描述 | 所在模块 | 影响 | 负责人 | 预计工作量 |
|------|----------|----------|------|--------|------------|
| P1-001 | `[紧急问题描述]` | `[模块/类路径]` | `[具体影响]` | `[负责人]` | `[X人天]` |
| P1-002 | `[紧急问题描述]` | `[模块/类路径]` | `[具体影响]` | `[负责人]` | `[X人天]` |

### P1 问题详情

#### P1-001: `[问题标题]`
- **问题类型**：`[代码质量/架构/性能/安全/运维]`
- **具体表现**：`[详细描述问题现象]`
- **根本原因**：`[分析根本原因]`
- **影响范围**：`[受影响的功能/用户/系统]`
- **复现步骤**：`[如何复现该问题]`
- **紧急程度**：`[为什么需要24小时内处理]`
- **建议方案**：`[具体的解决建议]`

## 4. P2 - 重要处理（共 `[X]` 项）

| 编号 | 问题描述 | 所在模块 | 影响 | 负责人 | 预计工作量 |
|------|----------|----------|------|--------|------------|
| P2-001 | `[重要问题描述]` | `[模块/类路径]` | `[具体影响]` | `[负责人]` | `[X人天]` |
| P2-002 | `[重要问题描述]` | `[模块/类路径]` | `[具体影响]` | `[负责人]` | `[X人天]` |

### P2 问题详情

#### P2-001: `[问题标题]`
- **问题类型**：`[代码质量/架构/性能/安全/运维]`
- **具体表现**：`[详细描述问题现象]`
- **根本原因**：`[分析根本原因]`
- **影响范围**：`[受影响的功能/用户/系统]`
- **技术债务**：`[该问题产生的技术债务]`
- **建议方案**：`[具体的解决建议]`

## 5. P3/P4 - 计划处理（共 `[X]` 项）

| 编号 | 优先级 | 问题描述 | 所在模块 | 影响 | 负责人 | 预计工作量 |
|------|--------|----------|----------|------|--------|------------|
| P3-001 | P3 | `[计划问题描述]` | `[模块/类路径]` | `[具体影响]` | `[负责人]` | `[X人天]` |
| P3-002 | P3 | `[计划问题描述]` | `[模块/类路径]` | `[具体影响]` | `[负责人]` | `[X人天]` |
| P4-001 | P4 | `[可选问题描述]` | `[模块/类路径]` | `[具体影响]` | `[负责人]` | `[X人天]` |

## 6. 技术债务清单

| 编号 | 债务描述 | 产生原因 | 影响评估 | 建议处理时间 | 处理成本 |
|------|----------|----------|----------|--------------|----------|
| TD-001 | `[技术债务描述]` | `[为什么会产生这个债务]` | `[对系统的影响]` | `[时间范围]` | `[X人天]` |
| TD-002 | `[技术债务描述]` | `[为什么会产生这个债务]` | `[对系统的影响]` | `[时间范围]` | `[X人天]` |
| TD-003 | `[技术债务描述]` | `[为什么会产生这个债务]` | `[对系统的影响]` | `[时间范围]` | `[X人天]` |

## 7. 代码异味详细清单

### 7.1 过长方法（>20行）

| 文件路径 | 方法名 | 行数 | 圈复杂度 | 建议手法 |
|----------|--------|------|----------|----------|
| `path/to/file.java` | `methodName()` | XX | XX | Extract Method |
| `path/to/file.java` | `methodName()` | XX | XX | Extract Method |

### 7.2 过大类（>500行）

| 文件路径 | 类名 | 行数 | 职责数量 | 建议手法 |
|----------|------|------|----------|----------|
| `path/to/file.java` | `ClassName` | XXX | X | Extract Class |
| `path/to/file.java` | `ClassName` | XXX | X | Extract Class |

### 7.3 重复代码

| 文件路径1 | 文件路径2 | 相似度 | 重复行数 | 建议手法 |
|-----------|-----------|--------|----------|----------|
| `path/to/file1.java` | `path/to/file2.java` | XX% | XX | Extract Method + Pull Up |
| `path/to/file3.java` | `path/to/file4.java` | XX% | XX | Extract Method + Pull Up |

### 7.4 过长参数列表（>3个参数）

| 文件路径 | 方法名 | 参数数量 | 参数列表 | 建议手法 |
|----------|--------|----------|----------|----------|
| `path/to/file.java` | `methodName()` | X | `[param1, param2, ...]` | Introduce Parameter Object |
| `path/to/file.java` | `methodName()` | X | `[param1, param2, ...]` | Introduce Parameter Object |

### 7.5 Switch 惊悚

| 文件路径 | 方法名 | Switch数量 | 分支数量 | 建议手法 |
|----------|--------|------------|----------|----------|
| `path/to/file.java` | `methodName()` | X | X | Replace Conditional with Polymorphism |
| `path/to/file.java` | `methodName()` | X | X | Replace Conditional with Polymorphism |

## 8. 性能问题详细清单

### 8.1 慢 SQL 问题

| SQL 描述 | 执行时间 | 执行频率 | 影响接口 | 建议优化 |
|----------|----------|----------|----------|----------|
| `[SQL 描述]` | >XXXms | XX次/分钟 | `/api/xxx` | `[索引优化/SQL重写]` |
| `[SQL 描述]` | >XXXms | XX次/分钟 | `/api/xxx` | `[索引优化/SQL重写]` |

### 8.2 N+1 查询问题

| 问题位置 | 查询模式 | 影响接口 | 建议优化 |
|----------|----------|----------|----------|
| `path/to/file.java:line` | `[N+1查询描述]` | `/api/xxx` | `[批量查询/Lazy Load]` |
| `path/to/file.java:line` | `[N+1查询描述]` | `/api/xxx` | `[批量查询/Lazy Load]` |

### 8.3 内存泄漏风险

| 问题位置 | 泄漏对象 | 影响程度 | 建议优化 |
|----------|----------|----------|----------|
| `path/to/file.java:line` | `[对象类型]` | 高/中/低 | `[及时释放/WeakReference]` |
| `path/to/file.java:line` | `[对象类型]` | 高/中/低 | `[及时释放/WeakReference]` |

## 9. 安全问题详细清单

### 9.1 认证授权问题

| 问题位置 | 问题类型 | 风险等级 | 建议修复 |
|----------|----------|----------|----------|
| `path/to/file.java:line` | `[权限绕过/越权访问]` | 高/中/低 | `[增加权限校验]` |
| `path/to/file.java:line` | `[权限绕过/越权访问]` | 高/中/低 | `[增加权限校验]` |

### 9.2 注入风险

| 问题位置 | 注入类型 | 风险等级 | 建议修复 |
|----------|----------|----------|----------|
| `path/to/file.java:line` | `[SQL注入/XSS/命令注入]` | 高/中/低 | `[参数化查询/输入校验]` |
| `path/to/file.java:line` | `[SQL注入/XSS/命令注入]` | 高/中/低 | `[参数化查询/输入校验]` |

### 9.3 敏感信息泄露

| 问题位置 | 敏感信息类型 | 风险等级 | 建议修复 |
|----------|--------------|----------|----------|
| `path/to/file.java:line` | `[密码/密钥/个人信息]` | 高/中/低 | `[脱敏/加密/移除]` |
| `path/to/file.java:line` | `[密码/密钥/个人信息]` | 高/中/低 | `[脱敏/加密/移除]` |

## 10. 运维问题详细清单

### 10.1 日志问题

| 问题位置 | 问题类型 | 影响 | 建议优化 |
|----------|----------|------|----------|
| `path/to/file.java:line` | `[日志缺失/日志过多/日志格式不统一]` | `[调试困难/磁盘空间浪费]` | `[增加关键日志/调整日志级别]` |
| `path/to/file.java:line` | `[日志缺失/日志过多/日志格式不统一]` | `[调试困难/磁盘空间浪费]` | `[增加关键日志/调整日志级别]` |

### 10.2 监控缺失

| 监控项 | 当前状态 | 建议添加 | 监控指标 |
|--------|----------|----------|----------|
| `[业务指标]` | 未监控 | 是/否 | `[具体指标]` |
| `[系统指标]` | 未监控 | 是/否 | `[具体指标]` |

### 10.3 文档缺失

| 模块 | 文档类型 | 缺失程度 | 建议补充 |
|------|----------|----------|----------|
| `[模块名称]` | `[API文档/架构文档/部署文档]` | 完全缺失/部分缺失 | `[具体内容]` |
| `[模块名称]` | `[API文档/架构文档/部署文档]` | 完全缺失/部分缺失 | `[具体内容]` |

## 11. 处理建议

### 11.1 短期（1-2周）
- **P0 问题处理**：立即停止其他非紧急工作，优先处理 P0 级别问题
- **关键路径测试**：为 P0/P1 问题涉及的核心路径补充自动化测试
- **紧急修复验证**：建立紧急修复的快速验证流程

### 11.2 中期（1-2月）
- **P1/P2 问题处理**：按优先级纳入迭代计划，每周处理 X 个问题
- **重构计划制定**：针对重复代码、过长方法等代码异味制定重构计划
- **性能优化实施**：针对慢 SQL、N+1 查询等问题实施性能优化

### 11.3 长期（1季度+）
- **P3/P4 问题处理**：在功能开发间隙逐步处理低优先级问题
- **技术债务清理**：制定技术债务清理路线图，按季度推进
- **预防机制建立**：建立代码质量门禁，防止新问题产生

## 12. 分析工具和命令记录

### 12.1 代码质量分析
```bash
# [执行的命令和结果]
```

### 12.2 性能问题分析
```bash
# [执行的命令和结果]
```

### 12.3 安全问题扫描
```bash
# [执行的命令和结果]
```

---

> **备注**：请替换所有 `[占位符]` 为实际内容，并删除此备注。